<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600363 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="584"/>

<div>
<span><div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-weight: bold;">Docker</span></font></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">install</span><span style="font-size: 14pt;"> in Ubuntu</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo apt-get update</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo apt-get install linux-image-extra-$(uname -r) linux-image-extra-virtual</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo apt-get install apt-transport-https ca-certificates curl software-properties-common</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo curl -fsSL</span> <a href="https://download.docker.com/linux/ubuntu/gpg" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">https://download.docker.com/linux/ubuntu/gpg</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">| sudo apt-key add -</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo add-apt-repository &quot;deb [arch=amd64]</span> <a href="https://download.docker.com/linux/ubuntu" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">https://download.docker.com/linux/ubuntu</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$(lsb_release -cs) stable&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo apt-get install docker-ce</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">install</span><span style="font-size: 14pt;"> in CentOS</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># yum install -y yum-utils device-mapper-persistent-data lvm2</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># yum-config-manager --add-repo</span> <a href="https://download.docker.com/linux/centos/docker-ce.repo" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">https://download.docker.com/linux/centos/docker-ce.repo</a></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># yum makecache fast</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># yum install -y docker-ce</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># systemctl daemon-reload</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># systemctl enable docker.service</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># systemctl start docker.service</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># systemctl status docker.service</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># docker info</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># curl -L</span> <a href="https://github.com/docker/compose/releases/download/1.15.0/docker-compose-%60uname" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">https://github.com/docker/compose/releases/download/1.15.0/docker-compose-`uname</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-s`-`uname -m` &gt; /usr/local/bin/docker-compose</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># chmod +x /usr/local/bin/docker-compose</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># /usr/local/bin/docker-compose --version</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">docker-compose version 1.15.0, build e12f3b9</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># docker-compose --version</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">docker-compose version 1.15.0, build e12f3b9</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># ln -s /usr/local/bin/docker-compose /usr/sbin/docker-compose</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">相关文件</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ dpkg -L docker-ce</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/lib</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/lib/docker</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker-containerd-ctr</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker-runc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker-containerd</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker-containerd-shim</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker-proxy</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/dockerd</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker-init</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/usr/bin/docker</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/systemd</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/systemd/system</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/systemd/system/docker.service</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/systemd/system/docker.socket</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/udev</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/udev/rules.d</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/lib/udev/rules.d/80-docker-ce.rules</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/init.d</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/init.d/docker</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/default</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/default/docker</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/init</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/init/docker.conf</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/bash_completion.d</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/etc/bash_completion.d/docker</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo ls -l  /var/lib/docker/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">total 36</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 5 root root 4096 May  8 05:54 aufs</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 5 root root 4096 May  8 06:47 containers</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 3 root root 4096 May  8 05:54 image</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-x--- 3 root root 4096 May  8 05:54 network</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 4 root root 4096 May  8 05:54 plugins</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 2 root root 4096 May  8 05:54 swarm</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 2 root root 4096 May  8 06:12 tmp</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 2 root root 4096 May  8 05:54 trust</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------ 2 root root 4096 May  8 05:54 volumes</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">配置文件</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># 对应于 docker 1.12.6</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># cat /etc/sysconfig/docker</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">OPTIONS='--selinux-enabled --log-driver=journald --insecure-registry docker-registry.innovation.os'</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">#</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># 对应于 docker 17.06.2-ce</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># cat /etc/docker/daemon.json</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &quot;log-driver&quot;: &quot;journald&quot;,</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &quot;insecure-registries&quot;: [&quot;docker-registry.innovation.os&quot;]</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">#</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">相关命令</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker info</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Containers: 0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Running: 0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Paused: 0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Stopped: 0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Images: 0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Server Version: 17.03.1-ce</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Storage Driver: aufs</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Root Dir: /var/lib/docker/aufs</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Backing Filesystem: extfs</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Dirs: 0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Dirperm1 Supported: false</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Logging Driver: json-file</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Cgroup Driver: cgroupfs</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Plugins:</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Volume: local</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Network: bridge host macvlan null overlay</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Swarm: inactive</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Runtimes: runc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Default Runtime: runc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Init Binary: docker-init</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">containerd version: 4ab9917febca54791c5f071a9d1f404867857fcc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">runc version: 54296cf40ad8143b62dbcaa1d90e520a2136ddfe</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">init version: 949e6fa</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Security Options:</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">apparmor</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Kernel Version: 3.13.0-88-generic</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Operating System: Ubuntu 14.04.4 LTS</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">OSType: linux</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Architecture: x86_64</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CPUs: 2</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Total Memory: 5.829 GiB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Name: huzhi-ubuntu3</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ID: RX3X:CCJ3:UKPT:NKCH:WSHH:IM75:FXO2:4TWL:7R6J:LV7H:DIFF:ZSLW</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Docker Root Dir: /var/lib/docker</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Debug Mode (client): false</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Debug Mode (server): false</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Registry:</span> <a href="https://index.docker.io/v1/" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">https://index.docker.io/v1/</a></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">WARNING: No swap limit support</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Experimental: false</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Insecure Registries:</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">127.0.0.0/8</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Live Restore Enabled: false</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$</span></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo service docker status</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">docker start/running, process 25144</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ ps -ef | grep docker</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root     25144     1  0 05:54 ?        00:00:00 /usr/bin/dockerd --raw-logs</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root     25155 25144  0 05:54 ?        00:00:00 docker-containerd -l unix:///var/run/docker/libcontainerd/docker-containerd.sock --metrics-interval=0 --start-timeout 2m --state-dir /var/run/docker/libcontainerd/containerd --shim docker-containerd-shim --runtime docker-runc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$</span></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -i -t ubuntu /bin/bash</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Unable to find image 'ubuntu:latest' locally</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">latest: Pulling from library/ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">aafe6b5e13de: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">0a2b43a72660: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">18bdd1e546d2: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">8198342c3e05: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">f56970a44fd4: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Digest: sha256:f3a61450ae43896c4332bda5e78b453f4a93179045f20c8181043b26b5e79028</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Status: Downloaded newer image for ubuntu:latest</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/# hostname</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/# cat /etc/hosts</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">127.0.0.1    localhost</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">::1    localhost ip6-localhost ip6-loopback</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">fe00::0    ip6-localnet</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ff00::0    ip6-mcastprefix</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ff02::1    ip6-allnodes</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ff02::2    ip6-allrouters</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">172.18.0.2    a68cc7370822</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/# ps -aux</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root         1  0.0  0.0  18232  1996 ?        Ss   06:12   0:00 /bin/bash</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root        13  0.0  0.0  34416  1468 ?        R+   06:16   0:00 ps -aux</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/# apt-get update</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/# apt-get install vim</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@a68cc7370822:/# exit</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">exit</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker ps -al</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                          PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;         26 minutes ago      Exited (0) About a minute ago                       stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run --name huzhi_first_container -i -t ubuntu /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@52150991084b:/# whereis vim</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">vim:</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@52150991084b:/# exit</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">exit</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;         51 seconds ago      Exited (0) 30 seconds ago                       huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;         27 minutes ago      Exited (0) 2 minutes ago                        stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker start huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">huzhi_first_container</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker attach huzhi_first_container</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@52150991084b:/# whereis vim</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">vim:</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@52150991084b:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run --name daemon_dave -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1c56c0dd29e450bb5a9527266d867a3c45f7fa9de6a1e4f1ceb01</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   21 seconds ago      Up 19 seconds                                   daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              8 minutes ago       Exited (0) 2 minutes ago                        huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;              35 minutes ago      Exited (0) 10 minutes ago                       stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker logs daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">hello world</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">hello world</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">hello world</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">hello world</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker logs -ft daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">2017-05-08T06:47:14.073738615Z hello world</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">2017-05-08T06:47:20.082663499Z hello world</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">2017-05-08T06:49:56.325945219Z hello world</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker top daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root                26668               26652               0                   06:47               ?                   00:00:00            /bin/sh -c while true; do echo hello world; sleep 1; done</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root                26942               26668               0                   06:51               ?                   00:00:00            sleep 1</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker exec -d daemon_dave touch /etc/new_config_file</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker exec -t -i daemon_dave /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@e5c656e1e1e1:/# ll /etc/new_config_file</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-r--r-- 1 root root 0 May  8 06:53 /etc/new_config_file</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@e5c656e1e1e1:/# exit</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">exit</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   9 minutes ago       Up 9 minutes                                    daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              16 minutes ago      Exited (0) 11 minutes ago                       huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;              43 minutes ago      Exited (0) 18 minutes ago                       stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker stop daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">daemon_dave</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                       PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   10 minutes ago      Exited (137) 5 seconds ago                       daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              18 minutes ago      Exited (0) 12 minutes ago                        huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;              45 minutes ago      Exited (0) 20 minutes ago                        stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker run --restart=always --name daemon_dave -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run --restart=on-failure --name daemon_dave -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run --restart=on-failure:5 --name daemon_dave -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                       PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   13 minutes ago      Exited (137) 3 minutes ago                       daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              21 minutes ago      Exited (0) 15 minutes ago                        huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;              48 minutes ago      Exited (0) 23 minutes ago                        stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker inspect daemon_dave</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker inspect --format='{{ .State.Running }}' daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">false</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker inspect --format='{{ .Image }}' daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">sha256:f7b3f317ec734a73deca91b34c2b1e3dd7454650da9c8ef3047d29a873865178</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                        PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   21 minutes ago      Exited (137) 11 minutes ago                       daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              29 minutes ago      Exited (0) 23 minutes ago                         huzhi_first_container</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a68cc7370822        ubuntu              &quot;/bin/bash&quot;              56 minutes ago      Exited (0) 31 minutes ago                         stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker rm stoic_knuth</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">stoic_knuth</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                        PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   22 minutes ago      Exited (137) 11 minutes ago                       daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              29 minutes ago      Exited (0) 24 minutes ago                         huzhi_first_container</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker stop</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker kill</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker rm `sudo docker ps -a -q`</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker images</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              latest              f7b3f317ec73        13 days ago         117 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker pull ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Using default tag: latest</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">latest: Pulling from library/ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Digest: sha256:f3a61450ae43896c4332bda5e78b453f4a93179045f20c8181043b26b5e79028</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Status: Image is up to date for ubuntu:latest</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker images</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              latest              f7b3f317ec73        13 days ago         117 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker pull -a ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">10.04: Pulling from library/ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">a3ed95caeb02: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">86b54f4b6a4e: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Digest: sha256:f6695b2d24dd2e1da0a79fa72459e33505da79939c13ce50e90675c32988ab64</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">12.04.5: Pulling from library/ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">d8868e50ac4c: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">83251ac64627: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">589bba2f1b36: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">d62ecaceda39: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">6d93b41cfc6b: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Digest: sha256:18305429afa14ea462f810146ba44d4363ae76e4c8dfc38288cf73aa07485005</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">12.04: Pulling from library/ubuntu</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Digest: sha256:18305429afa14ea462f810146ba44d4363ae76e4c8dfc38288cf73aa07485005</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Get</span> <a href="https://registry-1.docker.io/v2/library/ubuntu/manifests/12.10:" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">https://registry-1.docker.io/v2/library/ubuntu/manifests/12.10:</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">net/http: TLS handshake timeout</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker images</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              latest              f7b3f317ec73        13 days ago         117 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              12.04               5b117edd0b76        3 weeks ago         104 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              12.04.5             5b117edd0b76        3 weeks ago         104 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              10.04               e21dbcc7c9de        3 years ago         183 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker run --name huzhi_first_container -i -t ubuntu:12.04 /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker pull fedora</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Using default tag: latest</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">latest: Pulling from library/fedora</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">691bc14ee274: Pull complete</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Digest: sha256:69281ddd7b2600e5f2b17f1e12d7fba25207f459204fb2d15884f8432c479136</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Status: Downloaded newer image for fedora:latest</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker images fedora</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">fedora              latest              15895ef0b3b2        2 weeks ago         231 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker pull fedora:20</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">$ sudo docker search puppet</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">NAME                                DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">devopsil/puppet                     Dockerfile for a container with puppet ins...   22                   [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">macadmins/munki-puppet              Basic munki nginx image with Puppet used f...   7                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">devopsil/puppet-yum                                                                 5                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vladgh/puppet                       Ubuntu 16.04 LTS Base image with Puppet         2                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vladgh/puppetserver                 Vlad's Puppet Server                            2                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">solict/provisionous-puppet-centos   CentOS provisions with Puppet included          2                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">solict/provisionous-puppet-debian   Debian provisions with Puppet included          1                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">braucher/puppet                     An imaged base on Ubuntu Upstart 14.04 pro...   1                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">muccg/puppet-base                   Base images that use puppet and librarian-...   1                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">lewislambert/puppet                 Dockerised Puppet Master and Puppet Agent       1                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">solict/provisionous-puppet-ubuntu   Ubuntu provisions with Puppet included          1                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vshn/puppet-haproxy                 VSHN Puppet Environment in Docker - HAProx...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vshn/puppet-puppetexplorer          VSHN Puppet Environment in Docker - Puppet...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">itherz/puppet                       Dockerized Puppet Server with MCO (ActiveM...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">atomia/puppet-atomia                Atomia Puppet module                            0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">icgoperations/puppet-ci             Automated puppet configuration testing          0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ladbit/puppet-db                    LADBIT PuppetDB                                 0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vshn/puppet-r10k                    VSHN Puppet Environment in Docker - r10k w...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vshn/puppet-puppetserver            VSHN Puppet Environment in Docker - Puppet...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">coigovpl/puppet-forge-server        Docker image to run a private Puppet Forge...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vshn/puppet-puppetdb                VSHN Puppet Environment in Docker - PuppetDB    0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">samepagelabs/puppet-build           Puppet and rake, useful for building puppe...   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">whatwedo/puppet-client              Puppet Client                                   0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">samaelson/puppet                    Puppet lint image for CI                        0                    [OK]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vshn/puppet-postgres                VSHN Puppet Environment in Docker - Postgr...   0                    [OK]</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker pull devopsil/puppet</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker run -i -t devopsil/puppet /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker run -i -t ubuntu /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:/# pwd</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:/# ll</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">total 72</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x  36 root root 4096 May  8 07:36 ./</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x  36 root root 4096 May  8 07:36 ../</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rwxr-xr-x   1 root root    0 May  8 07:35 .dockerenv*</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 17 20:31 bin/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 12  2016 boot/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   5 root root  360 May  8 07:35 dev/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x  45 root root 4096 May  8 07:35 etc/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 12  2016 home/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   8 root root 4096 Sep 13  2015 lib/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 17 20:30 lib64/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 17 20:30 media/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 17 20:30 mnt/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 17 20:30 opt/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">dr-xr-xr-x 124 root root    0 May  8 07:35 proc/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------   2 root root 4096 Apr 17 20:31 root/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   6 root root 4096 Apr 24 22:57 run/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 24 22:57 sbin/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x   2 root root 4096 Apr 17 20:30 srv/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">dr-xr-xr-x  13 root root    0 May  8 07:35 sys/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxrwxrwt   2 root root 4096 May  8 07:36 tmp/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x  11 root root 4096 Apr 24 22:57 usr/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x  14 root root 4096 May  8 07:36 var/</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:/# cd /root</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:~# ll -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">total 16</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------  2 root root 4096 Apr 17 20:31 ./</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x 36 root root 4096 May  8 07:36 ../</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-r--r--  1 root root 3106 Oct 22  2015 .bashrc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-r--r--  1 root root  148 Aug 17  2015 .profile</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:~# touch test.txt</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:~# ll</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">total 16</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwx------  2 root root 4096 May  8 07:39 ./</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x 37 root root 4096 May  8 07:39 ../</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-r--r--  1 root root 3106 Oct 22  2015 .bashrc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-r--r--  1 root root  148 Aug 17  2015 .profile</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-r--r--  1 root root    0 May  8 07:39 test.txt</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@3ad7ccaa4145:~# exit</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">exit</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker ps -l -q</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">3ad7ccaa4145</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker ps -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                        PORTS               NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">3ad7ccaa4145        ubuntu              &quot;/bin/bash&quot;              6 minutes ago       Exited (0) 55 seconds ago                         keen_wright</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">e5c656e1e1e1        ubuntu              &quot;/bin/sh -c 'while...&quot;   54 minutes ago      Exited (137) 44 minutes ago                       daemon_dave</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">52150991084b        ubuntu              &quot;/bin/bash&quot;              About an hour ago   Exited (0) 56 minutes ago                         huzhi_first_container</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker commit 3ad7ccaa4145 huzhi/test</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">sha256:11cd92767a6104362dac0cf7a542faa0ca209bea3078ba1c973cfccf4a01ee22</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker images huzhi/test</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">huzhi/test          latest              11cd92767a61        24 seconds ago      124 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker commit -m=&quot;test&quot; --author=&quot;huzhi&quot; 3ad7ccaa4145 huzhi/test:test</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker inspect huzhi/test</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker images</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">huzhi/test          latest              11cd92767a61        5 minutes ago       124 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              latest              f7b3f317ec73        13 days ago         117 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">fedora              latest              15895ef0b3b2        2 weeks ago         231 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              12.04               5b117edd0b76        3 weeks ago         104 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              12.04.5             5b117edd0b76        3 weeks ago         104 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              10.04               e21dbcc7c9de        3 years ago         183 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ mkdir static_web</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ cd static_web</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ pwd</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">/home/ubuntu/static_web</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ ls -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">.  ..</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ touch Dockerfile</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ vim Dockerfile</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ cat Dockerfile</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># Version: 0.0.1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">FROM ubuntu:latest</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">MAINTAINER James Turnbull &quot;</span><a href="mailto:james@example.com" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">james@example.com</a><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">RUN apt-get update</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># /bin/sh -c &quot;apt-get update&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">RUN apt-get install -y nginx</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"># RUN [ &quot;apt-get&quot;, &quot; install&quot;, &quot; -y&quot;, &quot; nginx&quot; ]</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">RUN echo 'Hi, I am in your container' &gt; /var/www/html/index.html</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">EXPOSE 80</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker build -t=&quot;huzhi/static_web&quot; .</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Sending build context to Docker daemon 2.048 kB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Step 1/6 : FROM ubuntu:latest</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; f7b3f317ec73</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Step 2/6 : MAINTAINER James Turnbull &quot;</span><a href="mailto:james@example.com" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">james@example.com</a><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; Running in 1402dbd45502</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; ecd0ed3a265d</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Removing intermediate container 1402dbd45502</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Step 3/6 : RUN apt-get update</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; Running in 31964fe2d3d7</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Get:1</span> <a href="http://security.ubuntu.com/ubuntu" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">http://security.ubuntu.com/ubuntu</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">xenial-security InRelease [102 kB]</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Fetched 23.9 MB in 1min 42s (234 kB/s)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Reading package lists...</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; dec44e1329e3</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Removing intermediate container 31964fe2d3d7</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Step 4/6 : RUN apt-get install -y nginx</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; Running in e01a0e0621a2</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Reading package lists...</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Processing triggers for systemd (229-4ubuntu16) ...</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; dac4f060368e</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Removing intermediate container e01a0e0621a2</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Step 5/6 : RUN echo 'Hi, I am in your container' &gt; /var/www/html/index.html</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; Running in d87185324f0e</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; 6255901b6e9f</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Removing intermediate container d87185324f0e</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Step 6/6 : EXPOSE 80</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; Running in 1f600e39491f</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">---&gt; 85792be42dc2</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Removing intermediate container 1f600e39491f</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Successfully built 85792be42dc2</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ ls -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">.  ..  Dockerfile</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker build -t=&quot;huzhi/static_web:v1&quot; .</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker build -t=&quot;huzhi/static_web:v1&quot;</span> <a href="mailto:git@github.com" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">git@github.com</a><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">:jam/docker-static_web</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ touch .dockerignore</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ ll -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">total 12</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxrwxr-x  2 ubuntu ubuntu 4096 May  8 08:19 ./</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">drwxr-xr-x 20 ubuntu ubuntu 4096 May  8 08:04 ../</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-rw-r--  1 ubuntu ubuntu  285 May  8 08:04 Dockerfile</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">-rw-rw-r--  1 ubuntu ubuntu    0 May  8 08:19 .dockerignore</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker build --no-cache -t=&quot;huzhi/static_web&quot; .</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker images</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">huzhi/static_web    latest              85792be42dc2        8 minutes ago       212 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">huzhi/test          latest              11cd92767a61        39 minutes ago      124 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              latest              f7b3f317ec73        13 days ago         117 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">fedora              latest              15895ef0b3b2        2 weeks ago         231 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              12.04               5b117edd0b76        3 weeks ago         104 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              12.04.5             5b117edd0b76        3 weeks ago         104 MB</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ubuntu              10.04               e21dbcc7c9de        3 years ago         183 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker images huzhi/static_web</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">huzhi/static_web    latest              85792be42dc2        9 minutes ago       212 MB</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker history huzhi/static_web</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">85792be42dc2        10 minutes ago      /bin/sh -c #(nop)  EXPOSE 80/tcp                0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">6255901b6e9f        10 minutes ago      /bin/sh -c echo 'Hi, I am in your containe...   27 B               </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">dac4f060368e        10 minutes ago      /bin/sh -c apt-get install -y nginx             56.5 MB             </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">dec44e1329e3        16 minutes ago      /bin/sh -c apt-get update                       38.2 MB             </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ecd0ed3a265d        18 minutes ago      /bin/sh -c #(nop)  MAINTAINER James Turnbu...   0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">f7b3f317ec73        13 days ago         /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c mkdir -p /run/systemd &amp;&amp; echo '...   7 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c sed -i 's/^#\s*\(deb.*universe\...   2.76 kB             </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c rm -rf /var/lib/apt/lists/*          0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c set -xe   &amp;&amp; echo '#!/bin/sh' &gt;...   745 B               </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c #(nop) ADD file:141408db9037263...   117 MB             </span></div><div><br/></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker history 85792be42dc2</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">85792be42dc2        10 minutes ago      /bin/sh -c #(nop)  EXPOSE 80/tcp                0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">6255901b6e9f        10 minutes ago      /bin/sh -c echo 'Hi, I am in your containe...   27 B               </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">dac4f060368e        10 minutes ago      /bin/sh -c apt-get install -y nginx             56.5 MB             </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">dec44e1329e3        17 minutes ago      /bin/sh -c apt-get update                       38.2 MB             </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ecd0ed3a265d        18 minutes ago      /bin/sh -c #(nop)  MAINTAINER James Turnbu...   0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">f7b3f317ec73        13 days ago         /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c mkdir -p /run/systemd &amp;&amp; echo '...   7 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c sed -i 's/^#\s*\(deb.*universe\...   2.76 kB             </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c rm -rf /var/lib/apt/lists/*          0 B                 </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c set -xe   &amp;&amp; echo '#!/bin/sh' &gt;...   745 B               </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;missing&gt;           13 days ago         /bin/sh -c #(nop) ADD file:141408db9037263...   117 MB             </span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -d -p 80 --name static_web huzhi/static_web nginx -g &quot;daemon off;&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">cf5e2539a79321650661d2ac33abee53057f557fe122e7417357d817533b333e</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker ps -l</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                   NAMES</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">cf5e2539a793        huzhi/static_web    &quot;nginx -g 'daemon ...&quot;   57 seconds ago      Up 56 seconds       0.0.0.0:32768-&gt;80/tcp   static_web</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker port cf5e2539a793 80</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">0.0.0.0:32768</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker port static_web 80</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">0.0.0.0:32768</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -d -p 80:80 --name static_web huzhi/static_web nginx -g &quot;daemon off;&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -d -p 8080:80 --name static_web huzhi/static_web nginx -g &quot;daemon off;&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -d -p 127.0.0.1:80:80 --name static_web huzhi/static_web nginx -g &quot;daemon off;&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -d -p 127.0.0.1::80 --name static_web huzhi/static_web nginx -g &quot;daemon off;&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -d -P --name static_web huzhi/static_web nginx -g &quot;daemon off;&quot;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ curl localhost:32768</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Hi, I am in your container</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 14pt;">常见Dockerfile指令和示例</span></div><div><br/></div><div><a href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></div><div><br/></div><div><br/></div><div>##########################################################################################</div><div><br/></div><div>FROM</div><div>MAINTAINER</div><div>RUN</div><div>EXPOSE</div><div>CMD</div><div>ENTRYPOINT WORKDIR</div><div>USERcd</div><div>VOLUME</div><div>ADD</div><div>COPY</div><div>ONBUILD</div><div><br/></div><div>##########################################################################################</div><div><br/></div><div># Version: 0.0.1</div><div>FROM ubuntu:16.04</div><div>MAINTAINER James Turnbull &quot;<a href="mailto:james@example.com">james@example.com</a>&quot;</div><div>ENV REFRESHED_AT 2016-06-01</div><div>RUN apt-get -qq update</div><div><br/></div><div>##########################################################################################</div><div><br/></div><div>FROM ubuntu:14.04</div><div>MAINTAINER James Turnbull &quot;<a href="mailto:james@example.com">james@example.com</a>&quot;</div><div>RUN apt-get update</div><div># /bin/sh -c &quot;apt-get update&quot;</div><div>RUN apt-get install -y nginx</div><div># RUN [ &quot;apt-get&quot;, &quot; install&quot;, &quot; -y&quot;, &quot; nginx&quot; ]</div><div>RUN echo 'Hi, I am in your container' &gt; /var/www/html/index.html</div><div>EXPOSE 80</div><div><br/></div><div>##########################################################################################</div><div><br/></div><div>FROM ubuntu:16.04</div><div>MAINTAINER James Turnbull &quot;<a href="mailto:james@example.com">james@example.com</a>&quot;</div><div>ENV REFRESHED_AT 2013-07-28</div><div>RUN apt-get update</div><div>RUN apt-get install -y apache2</div><div>ENV APACHE_RUN_USER www-data</div><div>ENV APACHE_RUN_GROUP www-data</div><div>ENV APACHE_LOG_DIR /var/log/apache2</div><div>ONBUILD ADD . /var/www/</div><div>EXPOSE 80</div><div>ENTRYPOINT [&quot;/usr/sbin/apache2&quot;]</div><div>CMD [&quot;-D&quot;, &quot;FOREGROUND&quot;]</div><div><br/></div><div>##########################################################################################</div><div><br/></div><div>FROM ubuntu:16.04</div><div>MAINTAINER James Turnbull &quot;<a href="mailto:james@example.com">james@example.com</a>&quot;</div><div>ENV REFRESHED_AT 2016-06-01</div><div>RUN apt-get update</div><div>RUN apt-get install -y openssh-server</div><div>RUN mkdir /var/run/sshd</div><div>RUN echo &quot;root:password&quot; | chpasswd</div><div>EXPOSE 22</div><div><br/></div><div>##########################################################################################</div><div><br/></div><div>FROM jamtur01/apache2</div><div>MAINTAINER James Turnbull &quot;<a href="mailto:james@example.com">james@example.com</a>&quot;</div><div>ENV APPLICATION_NAME webapp</div><div>ENV ENVIRONMENT development</div><div><br/></div><div>##########################################################################################</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ ifconfig -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP BROADCAST MULTICAST  MTU:1500  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:149249 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:210154 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:8692217 (8.6 MB)  TX bytes:283872701 (283.8 MB)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:16058983 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:20887904 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:1000</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:9130973317 (9.1 GB)  TX bytes:5612731152 (5.6 GB)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">lo        Link encap:Local Loopback</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:127.0.0.1  Mask:255.0.0.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: ::1/128 Scope:Host</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP LOOPBACK RUNNING  MTU:65536  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:8106777 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:8106777 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:657193214 (657.1 MB)  TX bytes:657193214 (657.1 MB)</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo docker run -ti ubuntu /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@d5067c81c703:/# ifconfig -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">eth0      Link encap:Ethernet  HWaddr 02:42:ac:12:00:02</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:172.18.0.2  Bcast:0.0.0.0  Mask:255.255.0.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: fe80::42:acff:fe12:2/64 Scope:Link</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:18755 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:12038 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:25335378 (25.3 MB)  TX bytes:866216 (866.2 KB)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">lo        Link encap:Local Loopback</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:127.0.0.1  Mask:255.0.0.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: ::1/128 Scope:Host</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP LOOPBACK RUNNING  MTU:65536  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@d5067c81c703:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@34db29f846be:/# traceroute</span> <a href="http://www.baidu.com/" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">www.baidu.com</a></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">traceroute to</span> <a href="http://www.baidu.com/" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">www.baidu.com</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">(61.135.169.125), 30 hops max, 60 byte packets</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">1  172.18.0.1 (172.18.0.1)  0.137 ms  0.028 ms  0.046 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">2  172.17.2.1 (172.17.2.1)  0.229 ms  0.154 ms  0.225 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">3  </span><a href="http://192-168-14-1.avlyun.org/" style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">192-168-14-1.avlyun.org</a> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">(192.168.14.1)  2.684 ms  2.957 ms  3.317 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">4  192.168.55.3 (192.168.55.3)  0.591 ms  0.496 ms  0.522 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">5  171.113.252.1 (171.113.252.1)  2.071 ms  2.431 ms  2.014 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">6  111.175.208.170 (111.175.208.170)  4.874 ms  5.454 ms  5.355 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">7  111.175.209.49 (111.175.209.49)  1.727 ms  1.671 ms  1.588 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">8  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">9  202.97.57.102 (202.97.57.102)  24.902 ms * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">10  * 219.158.39.61 (219.158.39.61)  28.307 ms *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">11  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">12  124.65.194.78 (124.65.194.78)  22.472 ms * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">13  124.65.58.66 (124.65.58.66)  25.958 ms 124.65.59.198 (124.65.59.198)  22.781 ms 124.65.59.114 (124.65.59.114)  22.544 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">14  61.49.168.82 (61.49.168.82)  25.375 ms 202.106.43.30 (202.106.43.30)  22.391 ms 123.125.248.126 (123.125.248.126)  26.513 ms</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">15  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">16  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">17  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">18  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">19  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">20  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">21  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">22  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">23  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">24  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">25  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">26  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">27  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">28  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">29  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">30  * * *</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@34db29f846be:/# </span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ ifconfig -a</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:149257 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:210154 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:8692753 (8.6 MB)  TX bytes:283872701 (283.8 MB)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:16076367 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:20932872 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:1000</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:9132815016 (9.1 GB)  TX bytes:5618288512 (5.6 GB)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">lo        Link encap:Local Loopback</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet addr:127.0.0.1  Mask:255.0.0.0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: ::1/128 Scope:Host</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP LOOPBACK RUNNING  MTU:65536  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:8106785 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:8106785 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:657193614 (657.1 MB)  TX bytes:657193614 (657.1 MB)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">vethe4e9530 Link encap:Ethernet  HWaddr 12:5c:77:2d:96:0b</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          inet6 addr: fe80::105c:77ff:fe2d:960b/64 Scope:Link</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX packets:8 errors:0 dropped:0 overruns:0 frame:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          collisions:0 txqueuelen:0</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">          RX bytes:648 (648.0 B)  TX bytes:648 (648.0 B)</span></div><div><br/></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">$ sudo iptables -t nat -L -n</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Chain PREROUTING (policy ACCEPT)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">target     prot opt source               destination         </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DOCKER     all  --  0.0.0.0/0            0.0.0.0/0            ADDRTYPE match dst-type LOCAL</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Chain INPUT (policy ACCEPT)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">target     prot opt source               destination         </span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Chain OUTPUT (policy ACCEPT)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">target     prot opt source               destination         </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DOCKER     all  --  0.0.0.0/0           !127.0.0.0/8          ADDRTYPE match dst-type LOCAL</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Chain POSTROUTING (policy ACCEPT)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">target     prot opt source               destination         </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">MASQUERADE  all  --  172.18.0.0/16        0.0.0.0/0           </span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Chain DOCKER (2 references)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">target     prot opt source               destination         </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">RETURN     all  --  0.0.0.0/0            0.0.0.0/0</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">           </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">$ sudo docker run -p 4567 --name webapp --link redis:db -ti -v $PWD/webapp:/opt/webapp huzhi/sinatra /bin/bash</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@cf280bb8b575:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@cf280bb8b575:/# cat /etc/hosts</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">127.0.0.1    localhost</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">::1    localhost ip6-localhost ip6-loopback</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">fe00::0    ip6-localnet</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ff00::0    ip6-mcastprefix</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ff02::1    ip6-allnodes</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ff02::2    ip6-allrouters</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">172.18.0.3    db 12a11f176856 redis</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">172.18.0.2    cf280bb8b575</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@cf280bb8b575:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@cf280bb8b575:/# env</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">HOSTNAME=cf280bb8b575</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_NAME=/webapp/db</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_PORT_6379_TCP_PORT=6379</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">TERM=xterm</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_PORT=tcp://172.18.0.3:6379</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_PORT_6379_TCP=tcp://172.18.0.3:6379</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_ENV_REFRESHED_AT=2014-06-01</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">REFRESHED_AT=2014-06-01</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">PWD=/</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_PORT_6379_TCP_ADDR=172.18.0.3</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">DB_PORT_6379_TCP_PROTO=tcp</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">SHLVL=1</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">HOME=/root</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">_=/usr/bin/env</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@cf280bb8b575:/#</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">root@cf280bb8b575:/# exit</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">exit</span></div><div><br/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">Docker网络</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook$ ifconfig -a</span></div><div><span style="font-weight: bold;">docker0</span>   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22 </div><div>          inet addr:<span style="font-weight: bold;">172.18.0.1</span>  Bcast:0.0.0.0  Mask:255.255.0.0</div><div>          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:285866 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:374854 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:16876068 (16.8 MB)  TX bytes:508925014 (508.9 MB)</div><div><br/></div><div>eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4 </div><div>          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</div><div>          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</div><div>          RX packets:37499145 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:58821757 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:20850063223 (20.8 GB)  TX bytes:14821928460 (14.8 GB)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:9763316 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:9763316 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:906707772 (906.7 MB)  TX bytes:906707772 (906.7 MB)</div><div><br/></div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip -d link show</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>docker0        8000.02422477fa22    no        veth633680d</div><div>                                                                     vethd87c6b8</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo brctl addbr br0</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div><span style="font-weight: bold;">br0</span>        8000.000000000000    no       </div><div>docker0        8000.02422477fa22    no        veth633680d</div><div>                                                                     vethd87c6b8</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip -d link show</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>108: <span style="font-weight: bold;">br0</span>: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default</div><div>    link/ether 6a:7d:5b:09:9d:d4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo ip addr add 192.168.1.254/24 dev br0</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip address</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</div><div>    inet 127.0.0.1/8 scope host lo</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 ::1/128 scope host</div><div>       valid_lft forever preferred_lft forever</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff</div><div>    inet 172.17.2.15/24 brd 172.17.2.255 scope global eth0</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 fe80::f816:3eff:fe81:7ee4/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff</div><div>    inet 172.18.0.1/16 scope global docker0</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 fe80::42:24ff:fe77:fa22/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff</div><div>    inet6 fe80::e081:85ff:feaa:8362/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff</div><div>    inet6 fe80::10e8:56ff:fe2b:8f1c/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>108: <span style="font-weight: bold;">br0</span>: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default</div><div>    link/ether 6a:7d:5b:09:9d:d4 brd ff:ff:ff:ff:ff:ff</div><div>    inet 192.168.1.254/24 scope global br0</div><div>       valid_lft forever preferred_lft forever</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo ip link set dev br0 up</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip address</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</div><div>    inet 127.0.0.1/8 scope host lo</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 ::1/128 scope host</div><div>       valid_lft forever preferred_lft forever</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff</div><div>    inet 172.17.2.15/24 brd 172.17.2.255 scope global eth0</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 fe80::f816:3eff:fe81:7ee4/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff</div><div>    inet 172.18.0.1/16 scope global docker0</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 fe80::42:24ff:fe77:fa22/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff</div><div>    inet6 fe80::e081:85ff:feaa:8362/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff</div><div>    inet6 fe80::10e8:56ff:fe2b:8f1c/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>108: <span style="font-weight: bold;">br0</span>: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN group default</div><div>    link/ether 6a:7d:5b:09:9d:d4 brd ff:ff:ff:ff:ff:ff</div><div>    inet 192.168.1.254/24 scope global br0</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 fe80::687d:5bff:fe09:9dd4/64 scope link</div><div>       valid_lft forever preferred_lft forever</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>br0        8000.000000000000    no       </div><div>docker0        8000.02422477fa22    no        veth633680d</div><div>                                                                    vethd87c6b8</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo ip link add foo type veth peer name bar</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>113: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/ether 1a:2d:fb:d4:0b:0d brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>114: bar: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether 4a:e3:1e:a3:0d:dc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div>115: foo: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>br0        8000.000000000000    no       </div><div>docker0        8000.02422477fa22    no        veth633680d</div><div>                                                                     vethd87c6b8</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ifconfig -a</span></div><div>bar       Link encap:Ethernet  HWaddr 4a:e3:1e:a3:0d:dc </div><div>          BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>br0       Link encap:Ethernet  HWaddr 1a:2d:fb:d4:0b:0d </div><div>          inet addr:192.168.1.254  Bcast:0.0.0.0  Mask:255.255.255.0</div><div>          inet6 addr: fe80::182d:fbff:fed4:b0d/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22 </div><div>          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</div><div>          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:288895 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:378972 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:18108677 (18.1 MB)  TX bytes:513368037 (513.3 MB)</div><div><br/></div><div>eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4 </div><div>          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</div><div>          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</div><div>          RX packets:46572198 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:71908475 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:25029259970 (25.0 GB)  TX bytes:18940854588 (18.9 GB)</div><div><br/></div><div>foo       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:10570707 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:10570707 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:971532402 (971.5 MB)  TX bytes:971532402 (971.5 MB)</div><div><br/></div><div>veth633680d Link encap:Ethernet  HWaddr e2:81:85:aa:83:62 </div><div>          inet6 addr: fe80::e081:85ff:feaa:8362/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:1664 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:1840 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:693975 (693.9 KB)  TX bytes:1084319 (1.0 MB)</div><div><br/></div><div>vethd87c6b8 Link encap:Ethernet  HWaddr 12:e8:56:2b:8f:1c </div><div>          inet6 addr: fe80::10e8:56ff:fe2b:8f1c/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:69 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:74 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:27603 (27.6 KB)  TX bytes:32798 (32.7 KB)</div><div><br/></div><div>ubuntu@huzhi-ubuntu3:~$</div><div><br/></div><div><br/></div><div>$ docker run -ti --net=none ubuntu bash</div><div>$ docker run -ti --net=host ubuntu bash</div><div>$ docker run -ti --net=container:cf5e2539a793 ubuntu bash</div><div><br/></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch03/simple$ sudo docker run -t -i --net none --name cookbook huzhi/ubuntu bash</span></div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ip -d link show</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>root@ced902c1f11f:/#</div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ip address</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</div><div>    inet 127.0.0.1/8 scope host lo</div><div>       valid_lft forever preferred_lft forever</div><div>    inet6 ::1/128 scope host</div><div>       valid_lft forever preferred_lft forever</div><div>root@ced902c1f11f:/#</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo brctl addif br0 foo</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>113: br0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>114: bar: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether 4a:e3:1e:a3:0d:dc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div>115: foo: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop master br0 state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>br0        8000.d2dc882c5e72    no              foo</div><div>docker0        8000.02422477fa22    no        veth633680d</div><div>                            vethd87c6b8</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ifconfig -a</span></div><div>bar       Link encap:Ethernet  HWaddr 4a:e3:1e:a3:0d:dc </div><div>          BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>br0       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          inet addr:192.168.1.254  Bcast:0.0.0.0  Mask:255.255.255.0</div><div>          inet6 addr: fe80::182d:fbff:fed4:b0d/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22 </div><div>          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</div><div>          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:288895 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:378972 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:18108677 (18.1 MB)  TX bytes:513368037 (513.3 MB)</div><div><br/></div><div>eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4 </div><div>          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</div><div>          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</div><div>          RX packets:46572322 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:71908599 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:25029270146 (25.0 GB)  TX bytes:18940873860 (18.9 GB)</div><div><br/></div><div>foo       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:10570725 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:10570725 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:971533302 (971.5 MB)  TX bytes:971533302 (971.5 MB)</div><div><br/></div><div>veth633680d Link encap:Ethernet  HWaddr e2:81:85:aa:83:62 </div><div>          inet6 addr: fe80::e081:85ff:feaa:8362/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:1664 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:1840 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:693975 (693.9 KB)  TX bytes:1084319 (1.0 MB)</div><div><br/></div><div>vethd87c6b8 Link encap:Ethernet  HWaddr 12:e8:56:2b:8f:1c </div><div>          inet6 addr: fe80::10e8:56ff:fe2b:8f1c/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:69 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:74 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:27603 (27.6 KB)  TX bytes:32798 (32.7 KB)</div><div><br/></div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo ip link set foo up</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>99: veth633680d: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether e2:81:85:aa:83:62 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>107: vethd87c6b8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default</div><div>    link/ether 12:e8:56:2b:8f:1c brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div>113: br0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>114: bar: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether 4a:e3:1e:a3:0d:dc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div>115: foo: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>br0        8000.d2dc882c5e72    no        foo</div><div>docker0        8000.02422477fa22    no        veth633680d</div><div>                                                                    vethd87c6b8</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ ifconfig -a</span></div><div>bar       Link encap:Ethernet  HWaddr 4a:e3:1e:a3:0d:dc </div><div>          BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>br0       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          inet addr:192.168.1.254  Bcast:0.0.0.0  Mask:255.255.255.0</div><div>          inet6 addr: fe80::182d:fbff:fed4:b0d/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22 </div><div>          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</div><div>          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:288895 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:378972 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:18108677 (18.1 MB)  TX bytes:513368037 (513.3 MB)</div><div><br/></div><div>eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4 </div><div>          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</div><div>          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</div><div>          RX packets:46572448 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:71908717 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:25029280498 (25.0 GB)  TX bytes:18940892848 (18.9 GB)</div><div><br/></div><div>foo       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:10570735 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:10570735 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:971533802 (971.5 MB)  TX bytes:971533802 (971.5 MB)</div><div><br/></div><div>veth633680d Link encap:Ethernet  HWaddr e2:81:85:aa:83:62 </div><div>          inet6 addr: fe80::e081:85ff:feaa:8362/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:1664 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:1840 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:693975 (693.9 KB)  TX bytes:1084319 (1.0 MB)</div><div><br/></div><div>vethd87c6b8 Link encap:Ethernet  HWaddr 12:e8:56:2b:8f:1c </div><div>          inet6 addr: fe80::10e8:56ff:fe2b:8f1c/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:69 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:74 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:27603 (27.6 KB)  TX bytes:32798 (32.7 KB)</div><div><br/></div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">root@huzhi-ubuntu3:/var/run/docker/netns# pwd</span></div><div>/var/run/docker/netns</div><div><span style="font-weight: bold;">root@huzhi-ubuntu3:/var/run/docker/netns# ll</span></div><div>total 0</div><div>drwxr-xr-x 2 root root 100 Jun 11 05:59 ./</div><div>drwx------ 7 root root 140 May  8 06:12 ../</div><div>-r--r--r-- 1 root root   0 Jun 11 05:30 5cda50bb96a1</div><div>-r--r--r-- 1 root root   0 Jun 11 05:43 abfc292d54a6</div><div>-r--r--r-- 1 root root   0 Jun 11 05:59 ce46d1411530</div><div><span style="font-weight: bold;">root@huzhi-ubuntu3:/var/run/docker/netns# docker ps -a</span></div><div>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</div><div>ced902c1f11f        huzhi/ubuntu        &quot;bash&quot;                   48 minutes ago      Up 48 minutes                              cookbook</div><div>6e63ce488220        wordpress           &quot;docker-entrypoint...&quot;   About an hour ago   Up About an hour    0.0.0.0:8080-&gt;80/tcp   compose_wordpress_1</div><div>f3c1832fb299        mysql               &quot;docker-entrypoint...&quot;   About an hour ago   Up About an hour    3306/tcp               compose_mysql_1</div><div>root@huzhi-ubuntu3:/var/run# exit</div><div>exit</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ cd /var/run/</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ln -s /var/run/docker/netns netns</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns</span></div><div>ce46d1411530</div><div>abfc292d54a6</div><div>5cda50bb96a1</div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker ps -a</span></div><div>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES</div><div>ced902c1f11f        huzhi/ubuntu        &quot;bash&quot;                   52 minutes ago      Up 52 minutes                              cookbook</div><div>6e63ce488220        wordpress           &quot;docker-entrypoint...&quot;   About an hour ago   Up About an hour    0.0.0.0:8080-&gt;80/tcp   compose_wordpress_1</div><div>f3c1832fb299        mysql               &quot;docker-entrypoint...&quot;   About an hour ago   Up About an hour    3306/tcp               compose_mysql_1</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker stop compose_wordpress_1</span></div><div>compose_wordpress_1</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker stop compose_mysql_1</span></div><div>compose_mysql_1</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker ps -a</span></div><div>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES</div><div>ced902c1f11f        huzhi/ubuntu        &quot;bash&quot;                   54 minutes ago      Up 54 minutes                                   cookbook</div><div>6e63ce488220        wordpress           &quot;docker-entrypoint...&quot;   About an hour ago   Exited (0) 15 seconds ago                       compose_wordpress_1</div><div>f3c1832fb299        mysql               &quot;docker-entrypoint...&quot;   About an hour ago   Exited (0) 3 seconds ago                        compose_mysql_1</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker rm 6e63ce488220</span></div><div>6e63ce488220</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker rm f3c1832fb299</span></div><div>f3c1832fb299</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~$ sudo docker ps -a</span></div><div>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div>ced902c1f11f        huzhi/ubuntu        &quot;bash&quot;              54 minutes ago      Up 54 minutes                           cookbook</div><div>ubuntu@huzhi-ubuntu3:~$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns</span></div><div>ce46d1411530</div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ NIC=$(sudo ip netns)</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ echo $NIC</span></div><div>ce46d1411530</div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip link set bar netns $NIC</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>br0        8000.d2dc882c5e72    no        foo</div><div>docker0        8000.02422477fa22    no       </div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>113: br0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>115: foo: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ ifconfig -a</span></div><div>br0       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          inet addr:192.168.1.254  Bcast:0.0.0.0  Mask:255.255.255.0</div><div>          inet6 addr: fe80::182d:fbff:fed4:b0d/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22 </div><div>          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</div><div>          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:288895 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:378972 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:18108677 (18.1 MB)  TX bytes:513368037 (513.3 MB)</div><div><br/></div><div>eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4 </div><div>          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</div><div>          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</div><div>          RX packets:46574210 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:71910582 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:25029425939 (25.0 GB)  TX bytes:18941140725 (18.9 GB)</div><div><br/></div><div>foo       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:10570905 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:10570905 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:971542302 (971.5 MB)  TX bytes:971542302 (971.5 MB)</div><div><br/></div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns exec $NIC ip link set dev bar name eth1</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ brctl show</span></div><div>bridge name    bridge id        STP enabled    interfaces</div><div>br0        8000.d2dc882c5e72    no        foo</div><div>docker0        8000.02422477fa22    no       </div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 65470 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether fa:16:3e:81:7e:e4 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default</div><div>    link/ether 02:42:24:77:fa:22 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>113: br0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    bridge</div><div>115: foo: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether d2:dc:88:2c:5e:72 brd ff:ff:ff:ff:ff:ff promiscuity 1</div><div>    veth</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ ifconfig -a</span></div><div>br0       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          inet addr:192.168.1.254  Bcast:0.0.0.0  Mask:255.255.255.0</div><div>          inet6 addr: fe80::182d:fbff:fed4:b0d/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>docker0   Link encap:Ethernet  HWaddr 02:42:24:77:fa:22 </div><div>          inet addr:172.18.0.1  Bcast:0.0.0.0  Mask:255.255.0.0</div><div>          inet6 addr: fe80::42:24ff:fe77:fa22/64 Scope:Link</div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:288895 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:378972 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:18108677 (18.1 MB)  TX bytes:513368037 (513.3 MB)</div><div><br/></div><div>eth0      Link encap:Ethernet  HWaddr fa:16:3e:81:7e:e4 </div><div>          inet addr:172.17.2.15  Bcast:172.17.2.255  Mask:255.255.255.0</div><div>          inet6 addr: fe80::f816:3eff:fe81:7ee4/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:65470  Metric:1</div><div>          RX packets:46574376 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:71910702 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:25029439619 (25.0 GB)  TX bytes:18941157789 (18.9 GB)</div><div><br/></div><div>foo       Link encap:Ethernet  HWaddr d2:dc:88:2c:5e:72 </div><div>          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:10570913 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:10570913 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:971542702 (971.5 MB)  TX bytes:971542702 (971.5 MB)</div><div><br/></div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns exec $NIC ip link set eth1 address 12:34:56:78:9a:bc</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns exec $NIC ip link set eth1 up</span></div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns exec $NIC ip addr add 192.168.1.1/24 dev eth1</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:/var/run$ sudo ip netns exec $NIC ip route add default via 192.168.1.254</span></div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div>ubuntu@huzhi-ubuntu3:/var/run$ sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -j MASQUERADE</div><div>ubuntu@huzhi-ubuntu3:/var/run$</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">root@ced902c1f11f:/# route</span></div><div>Kernel IP routing table</div><div>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</div><div>root@ced902c1f11f:/#</div><div>root@ced902c1f11f:/#</div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>114: bar: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether 4a:e3:1e:a3:0d:dc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>114: eth1: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether 4a:e3:1e:a3:0d:dc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>114: eth1: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000</div><div>    link/ether 12:34:56:78:9a:bc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ifconfig -a</span></div><div>eth1      Link encap:Ethernet  HWaddr 12:34:56:78:9a:bc </div><div>          BROADCAST MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ip -d link</span></div><div>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default</div><div>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 promiscuity 0</div><div>114: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000</div><div>    link/ether 12:34:56:78:9a:bc brd ff:ff:ff:ff:ff:ff promiscuity 0</div><div>    veth</div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ifconfig -a</span></div><div>eth1      Link encap:Ethernet  HWaddr 12:34:56:78:9a:bc </div><div>          inet6 addr: fe80::1034:56ff:fe78:9abc/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:8 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:648 (648.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div><span style="font-weight: bold;">root@ced902c1f11f:/# ifconfig -a</span></div><div>eth1      Link encap:Ethernet  HWaddr 12:34:56:78:9a:bc </div><div>          inet addr:192.168.1.1  Bcast:0.0.0.0  Mask:255.255.255.0</div><div>          inet6 addr: fe80::1034:56ff:fe78:9abc/64 Scope:Link</div><div>          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div>          RX packets:8 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:8 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:1000</div><div>          RX bytes:648 (648.0 B)  TX bytes:648 (648.0 B)</div><div><br/></div><div>lo        Link encap:Local Loopback </div><div>          inet addr:127.0.0.1  Mask:255.0.0.0</div><div>          inet6 addr: ::1/128 Scope:Host</div><div>          UP LOOPBACK RUNNING  MTU:65536  Metric:1</div><div>          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div>          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div>          collisions:0 txqueuelen:0</div><div>          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div><br/></div><div><span style="font-weight: bold;">root@ced902c1f11f:/# route -n   </span></div><div>Kernel IP routing table</div><div>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</div><div>0.0.0.0         192.168.1.254   0.0.0.0         UG    0      0        0 eth1</div><div>192.168.1.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1</div><div>root@ced902c1f11f:/#</div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">GRE隧道</span></div><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 121px;"></col><col style="width: 432px;"></col><col style="width: 432px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(211, 211, 211); width: 121px; padding: 8px;"><div>eth0</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>192.168.33.11</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>192.168.33.12</div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 121px; padding: 8px;"><div>docker0</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>172.17.0.1</div><div><span style="font-size: 12px; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif, 宋体; font-style: normal; font-weight: normal;">10101100,00010001,0|0000000,00000001</span></div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>172.17.128.1</div><div><span style="font-size: 12px; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif, 宋体; font-style: normal; font-weight: normal;">10101100,00010001,1|0000000,00000001</span></div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 121px; padding: 8px;"><div>GRE</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>172.17.127.254</div><div><span style="font-size: 12px; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif, 宋体; font-style: normal; font-weight: normal;">10101100,00010001,0|1111111,11111110</span></div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>172.17.255.254</div><div><span style="font-size: 12px; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif, 宋体; font-style: normal; font-weight: normal;">10101100,00010001,1|1111111,11111110</span></div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 121px; padding: 8px;"><div>mask</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>172.17.0.0</div><div><span style="font-size: 12px; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif, 宋体; font-style: normal; font-weight: normal;">10101100,00010001,0|0000000,00000000</span></div></td><td style="border: 1px solid rgb(211, 211, 211); width: 432px; padding: 8px;"><div>172.17.128.0</div><div><span style="font-size: 12px; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; color: rgb(51, 51, 51); font-family: Verdana, Arial, Helvetica, sans-serif, 宋体; font-style: normal; font-weight: normal;">10101100,00010001,1|0000000,00000000</span></div></td></tr></tbody></table><div><br/></div><div><br/></div><div>192.168.33.11</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip tunnel add foo mode gre remote 192.168.33.12 local 192.168.33.11</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip link set foo up</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip addr add 172.17.127.254 dev foo</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip route add 172.17.128.0/17 dev foo</span></div></div><div><br/></div><div><br/></div><div>192.168.33.12</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip tunnel add bar mode gre remote 192.168.33.11 local 192.168.33.12</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip link set bar up</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip addr add 172.17.255.254 dev foo</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip route add 172.17.0.0/17 dev bar</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>bridge</div><div>host</div><div>macvlan</div><div>null</div><div>overlay</div><div><br/></div><hr/><div><span style="font-size: 21px;">Docker Compose</span></div><div><br/></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker$ sudo pip install -U docker-compose</span></div><div>ubuntu@huzhi-ubuntu3:~/docker$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker$ docker-compose --version</span></div><div>docker-compose version 1.13.0, build 1719ceb</div><div>ubuntu@huzhi-ubuntu3:~/docker$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ docker-compose --help</span></div><div>Define and run multi-container applications with Docker.</div><div><br/></div><div>Usage:</div><div>  docker-compose [-f &lt;arg&gt;...] [options] [COMMAND] [ARGS...]</div><div>  docker-compose -h|--help</div><div><br/></div><div>Options:</div><div>  -f, --file FILE             Specify an alternate compose file (default: docker-compose.yml)</div><div>  -p, --project-name NAME     Specify an alternate project name (default: directory name)</div><div>  --verbose                   Show more output</div><div>  -v, --version               Print version and exit</div><div>  -H, --host HOST             Daemon socket to connect to</div><div><br/></div><div>  --tls                       Use TLS; implied by --tlsverify</div><div>  --tlscacert CA_PATH         Trust certs signed only by this CA</div><div>  --tlscert CLIENT_CERT_PATH  Path to TLS certificate file</div><div>  --tlskey TLS_KEY_PATH       Path to TLS key file</div><div>  --tlsverify                 Use TLS and verify the remote</div><div>  --skip-hostname-check       Don't check the daemon's hostname against the name specified</div><div>                              in the client certificate (for example if your docker host</div><div>                              is an IP address)</div><div>  --project-directory PATH    Specify an alternate working directory</div><div>                              (default: the path of the compose file)</div><div><br/></div><div>Commands:</div><div>  build              Build or rebuild services</div><div>  bundle             Generate a Docker bundle from the Compose file</div><div>  config             Validate and view the compose file</div><div>  create             Create services</div><div>  down               Stop and remove containers, networks, images, and volumes</div><div>  events             Receive real time events from containers</div><div>  exec               Execute a command in a running container</div><div>  help               Get help on a command</div><div>  images             List images</div><div>  kill               Kill containers</div><div>  logs               View output from containers</div><div>  pause              Pause services</div><div>  port               Print the public port for a port binding</div><div>  ps                 List containers</div><div>  pull               Pull service images</div><div>  push               Push service images</div><div>  restart            Restart services</div><div>  rm                 Remove stopped containers</div><div>  run                Run a one-off command</div><div>  scale              Set number of containers for a service</div><div>  start              Start services</div><div>  stop               Stop services</div><div>  top                Display the running processes</div><div>  unpause            Unpause services</div><div>  up                 Create and start containers</div><div>  version            Show the Docker-Compose version information</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ cat docker-compose.yml</span></div><div>wordpress:</div><div>  image: wordpress</div><div>  links:</div><div>   - mysql</div><div>  ports:</div><div>   - &quot;80:80&quot;</div><div>  environment:</div><div>   - WORDPRESS_DB_NAME=wordpress</div><div>   - WORDPRESS_DB_USER=wordpress</div><div>   - WORDPRESS_DB_PASSWORD=wordpresspwd</div><div>mysql:</div><div>  image: mysql</div><div>  environment:</div><div>   - MYSQL_ROOT_PASSWORD=wordpressdocker</div><div>   - MYSQL_DATABASE=wordpress</div><div>   - MYSQL_USER=wordpress</div><div>   - MYSQL_PASSWORD=wordpresspwd</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose up -d</span></div><div>Pulling mysql (mysql:latest)...</div><div>latest: Pulling from library/mysql</div><div>10a267c67f42: Pull complete</div><div>c2dcc7bb2a88: Pull complete</div><div>17e7a0445698: Pull complete</div><div>9a61839a176f: Pull complete</div><div>a1033d2f1825: Pull complete</div><div>0d6792140dcc: Pull complete</div><div>cd3adf03d6e6: Pull complete</div><div>d79d216fd92b: Pull complete</div><div>b3c25bdeb4f4: Pull complete</div><div>02556e8f331f: Pull complete</div><div>4bed508a9e77: Pull complete</div><div>Digest: sha256:2f4b1900c0ee53f344564db8d85733bd8d70b0a78cd00e6d92dc107224fc84a5</div><div>Status: Downloaded newer image for mysql:latest</div><div>Pulling wordpress (wordpress:latest)...</div><div>latest: Pulling from library/wordpress</div><div>ef0380f84d05: Pull complete</div><div>d676534ff315: Pull complete</div><div>c80a1f6ddd8d: Pull complete</div><div>c3e9b0c1871f: Pull complete</div><div>b5e2756f5f08: Pull complete</div><div>cd2ca1686b17: Pull complete</div><div>529b20a8291d: Pull complete</div><div>dd0c35492a16: Pull complete</div><div>719b692e57dd: Pull complete</div><div>19f393a2429a: Pull complete</div><div>b3eb4c13a160: Pull complete</div><div>f6fa63e71a13: Pull complete</div><div>561abb46edf5: Pull complete</div><div>aa68385e1d37: Pull complete</div><div>c77c328a9969: Pull complete</div><div>f98e23828f5f: Pull complete</div><div>6323bf269528: Pull complete</div><div>898392363b19: Pull complete</div><div>Digest: sha256:b42ece3b23559e6021757e29195090ae727c4849848b01c997ac5cbbb7c27848</div><div>Status: Downloaded newer image for wordpress:latest</div><div>Creating compose_mysql_1 ...</div><div>Creating compose_mysql_1 ... done</div><div>Creating compose_wordpress_1 ...</div><div>Creating compose_wordpress_1 ... error</div><div><br/></div><div>ERROR: for compose_wordpress_1  Cannot start service wordpress: driver failed programming external connectivity on endpoint compose_wordpress_1 (738cc4dd43164dc1acbc19ddb09edfb6344ef1af0922cec75b4d97c4caeb76a4): Error starting userland proxy: listen tcp 0.0.0.0:80: bind: address already in use</div><div><br/></div><div>ERROR: for wordpress  Cannot start service wordpress: driver failed programming external connectivity on endpoint compose_wordpress_1 (738cc4dd43164dc1acbc19ddb09edfb6344ef1af0922cec75b4d97c4caeb76a4): Error starting userland proxy: listen tcp 0.0.0.0:80: bind: address already in use</div><div>ERROR: Encountered errors while bringing up the project.</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose ps</span></div><div>       Name                      Command                State      Ports   </div><div>--------------------------------------------------------------------------</div><div>compose_mysql_1       docker-entrypoint.sh mysqld      Up         3306/tcp</div><div>compose_wordpress_1   docker-entrypoint.sh apach ...   Exit 128           </div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ cat docker-compose.yml</span></div><div>wordpress:</div><div>  image: wordpress</div><div>  links:</div><div>   - mysql</div><div>  ports:</div><div>   - &quot;8080:80&quot;</div><div>  environment:</div><div>   - WORDPRESS_DB_NAME=wordpress</div><div>   - WORDPRESS_DB_USER=wordpress</div><div>   - WORDPRESS_DB_PASSWORD=wordpresspwd</div><div>mysql:</div><div>  image: mysql</div><div>  environment:</div><div>   - MYSQL_ROOT_PASSWORD=wordpressdocker</div><div>   - MYSQL_DATABASE=wordpress</div><div>   - MYSQL_USER=wordpress</div><div>   - MYSQL_PASSWORD=wordpresspwd</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose up -d --build</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose up -d</span></div><div>compose_mysql_1 is up-to-date</div><div>Recreating compose_wordpress_1 ...</div><div>Recreating compose_wordpress_1 ... done</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose ps</span></div><div>       Name                      Command               State          Ports         </div><div>-----------------------------------------------------------------------------------</div><div>compose_mysql_1       docker-entrypoint.sh mysqld      Up      3306/tcp             </div><div>compose_wordpress_1   docker-entrypoint.sh apach ...   Up      0.0.0.0:8080-&gt;80/tcp</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose stop compose_wordpress_1</span></div><div>ERROR: No such service: compose_wordpress_1</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose stop wordpress</span></div><div>Stopping compose_wordpress_1 ... done</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose ps</span></div><div>       Name                      Command               State     Ports   </div><div>------------------------------------------------------------------------</div><div>compose_mysql_1       docker-entrypoint.sh mysqld      Up       3306/tcp</div><div>compose_wordpress_1   docker-entrypoint.sh apach ...   Exit 0           </div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose start wordpress</span></div><div>Starting wordpress ... done</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose ps</span></div><div>       Name                      Command               State          Ports         </div><div>-----------------------------------------------------------------------------------</div><div>compose_mysql_1       docker-entrypoint.sh mysqld      Up      3306/tcp             </div><div>compose_wordpress_1   docker-entrypoint.sh apach ...   Up      0.0.0.0:8080-&gt;80/tcp</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ cat mesos.yml</span></div><div>zookeeper:</div><div>  image: garland/zookeeper</div><div>  ports:</div><div>   - &quot;2181:2181&quot;</div><div>   - &quot;2888:2888&quot;</div><div>   - &quot;3888:3888&quot;</div><div>mesosmaster:</div><div>  image: garland/mesosphere-docker-mesos-master</div><div>  ports:</div><div>   - &quot;5050:5050&quot;</div><div>  links:</div><div>   - zookeeper:zk</div><div>  environment:</div><div>   - MESOS_ZK=zk://zk:2181/mesos</div><div>   - MESOS_LOG_DIR=/var/log/mesos</div><div>   - MESOS_QUORUM=1</div><div>   - MESOS_REGISTRY=in_memory</div><div>   - MESOS_WORK_DIR=/var/lib/mesos</div><div>marathon:</div><div>  image: garland/mesosphere-docker-marathon</div><div>  links:</div><div>   - zookeeper:zk</div><div>   - mesosmaster:master</div><div>  command: --master zk://zk:2181/mesos --zk zk://zk:2181/marathon</div><div>  ports:</div><div>   - &quot;8088:8080&quot;</div><div>mesosslave:</div><div>  image: garland/mesosphere-docker-mesos-master:latest</div><div>  ports:</div><div>   - &quot;5051:5051&quot;</div><div>  links:</div><div>   - zookeeper:zk</div><div>   - mesosmaster:master</div><div>  entrypoint: mesos-slave</div><div>  environment:</div><div>   - MESOS_HOSTNAME=172.17.2.15</div><div>   - MESOS_MASTER=zk://zk:2181/mesos</div><div>   - MESOS_LOG_DIR=/var/log/mesos</div><div>   - MESOS_LOGGING_LEVEL=INFO</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$ sudo docker-compose -f mesos.yml up -d</span></div><div>WARNING: Found orphan containers (compose_wordpress_1, compose_mysql_1) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up.</div><div>Pulling zookeeper (garland/zookeeper:latest)...</div><div>latest: Pulling from garland/zookeeper</div><div>a3ed95caeb02: Pull complete</div><div>76e26cb603d3: Downloading [==&gt;                                                ] 2.621 MB/51.18 MB</div><div>26e3ffd0de24: Downloading [&gt;                                                  ]  1.08 MB/106.8 MB</div><div>5b76ae9a2c66: Download complete</div><div>fdd784be067e: Download complete</div><div>9e33799177d8: Download complete</div><div>^CERROR: Aborting.</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07$ mkdir compose-mesos</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07$ cp ./compose/mesos.yml ./compose-mesos/</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07$ cd ./compose-mesos/</span></div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose-mesos$ ll</span></div><div>total 12</div><div>drwxrwxr-x  2 ubuntu ubuntu 4096 Jun 11 05:51 ./</div><div>drwxrwxr-x 11 ubuntu ubuntu 4096 Jun 11 05:51 ../</div><div>-rw-rw-r--  1 ubuntu ubuntu  894 Jun 11 05:51 mesos.yml</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose-mesos$</div><div><span style="font-weight: bold;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose-mesos$ sudo docker-compose -f mesos.yml up -d</span></div><div>Pulling mesosmaster (garland/mesosphere-docker-mesos-master:latest)...</div><div>latest: Pulling from garland/mesosphere-docker-mesos-master</div><div>a3ed95caeb02: Pull complete</div><div>1e12eb217551: Pull complete</div><div>d2ff49536f4d: Pull complete</div><div>f94adccdbb9c: Pull complete</div><div>ca4998197cbe: Pull complete</div><div>91b9a729dc9a: Pull complete</div><div>15b805177f74: Pull complete</div><div>ed2466789fb0: Pull complete</div><div>bb4998055501: Pull complete</div><div>d868e403d59a: Pull complete</div><div>f67af4adf421: Pull complete</div><div>34961fac32c1: Pull complete</div><div>Digest: sha256:8f2129e6d717be68ac303925931860cb9de36c653ee1433c31022801c328d41d</div><div>Status: Downloaded newer image for garland/mesosphere-docker-mesos-master:latest</div><div>Pulling marathon (garland/mesosphere-docker-marathon:latest)...</div><div>latest: Pulling from garland/mesosphere-docker-marathon</div><div>71a21fdea81d: Pull complete</div><div>cf68a3ea6e1d: Pull complete</div><div>31cb2a4d344a: Pull complete</div><div>0341b6fcb0fe: Pull complete</div><div>c8777cc48364: Pull complete</div><div>5d65d7e933fc: Pull complete</div><div>e1dbbcfa9453: Pull complete</div><div>8a1ca45cc0c5: Pull complete</div><div>84b0b841a0d2: Pull complete</div><div>e5a5bd247cee: Pull complete</div><div>9dd8112e5e51: Pull complete</div><div>Digest: sha256:2e60059263810e42ee52de0f9ed7ec7c209ede04ae3a1efe7aaefb7d2af15be1</div><div>Status: Downloaded newer image for garland/mesosphere-docker-marathon:latest</div><div>Creating composemesos_zookeeper_1 ...</div><div>Creating composemesos_zookeeper_1 ... done</div><div>Creating composemesos_mesosmaster_1 ...</div><div>Creating composemesos_mesosmaster_1 ... done</div><div>Creating composemesos_mesosslave_1 ...</div><div>Creating composemesos_marathon_1 ...</div><div>Creating composemesos_mesosslave_1</div><div>Creating composemesos_marathon_1 ... done</div><div>ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/compose-mesos$</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">version: &quot;3&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">services:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  #insight所有前端项目</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  insight-fe:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    image: openresty:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    command: openresty -p /home/work/app/insight-fe/openresty/ -c /home/work/app/insight-fe/openresty/conf/nginx.conf -g &quot;daemon off;&quot; </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    user: root</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    working_dir: /home/work</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    ports:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      # insight agg2</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - &quot;80:8080&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      # insight passport</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - &quot;8081:8081&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      # insight backend</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - &quot;8899:8899&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      # insight data-gate</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      # - &quot;8666:8666&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    volumes:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./app:/home/work/app/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    links:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-api-gate</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  #insight后端API Gate</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  insight-api-gate:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    image: openresty:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    command: openresty -p /home/work/app/app-nginx-conf/ -c /home/work/app/app-nginx-conf/conf/nginx.conf -g &quot;daemon off;&quot; </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    user: root</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    working_dir: /home/work</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    volumes:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./app:/home/work/app/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./var:/home/work/var/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    links:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-auth</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-backend-php</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-index-web</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-database</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  #insight Auth</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  insight-auth:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    image: openresty:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    command: openresty -p /home/work/app/insight-auth/ -c /home/work/app/insight-auth/conf/nginx.conf -g &quot;daemon off;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    user: root</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    working_dir: /home/work</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    volumes:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./app:/home/work/app/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./var:/home/work/var/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    links:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-backend-php</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-database</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  # insight index-web 暂时独占一个docker</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  insight-index-web:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    image: openresty:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    command: openresty -p /home/work/app/index-web/openresty/ -c /home/work/app/index-web/openresty/conf/nginx.conf -g &quot;daemon off;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    user: root</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    working_dir: /home/work</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    ports:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - &quot;8626:8626&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    volumes:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./app:/home/work/app/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./var:/home/work/var/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    links:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-backend-php</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-database</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  # insight后端PHP，所有php模块均在此</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  insight-backend-php:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    image: php-fpm:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    command: php-fpm -c /home/work/app/php-backend/php-fpm/conf/php.ini -y /home/work/app/php-backend/php-fpm/conf/php-fpm.conf -F -R</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    volumes:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./app:/home/work/app/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./var:/home/work/var/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    links:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - insight-database</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  # 数据库mysql和redis等基础服务</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  insight-database:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    image: mysql-redis:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    command: /usr/sbin/init </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    privileged: true</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    user: root </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    working_dir: /root</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    ports:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - &quot;8123:8123&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - &quot;8124:8124&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    volumes:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      - ./data:/data/</span></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">sudo docker exec -ti 28bc378e8b96 bash</span></div></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><span style="font-size: 21px;">Docker Swarm</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Docker swarm v1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker pull swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Using default tag: latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">latest: Pulling from library/swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ebe0176dcf9a: Pull complete</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">19f771faa982: Pull complete</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">902eeedf931a: Pull complete</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Digest: sha256:815fc8fd4617d866e1256999c2c0a55cc8f377f3dade26c3edde3f0543a70c04</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Status: Downloaded newer image for swarm:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker images</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">REPOSITORY                               TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/ubuntu                             latest              295a670d7efa        25 hours ago        162 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">wordpress                                latest              c8fc64de4cb3        2 days ago          406 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/sinatra_redis                      latest              517bd2ed6f60        4 weeks ago         384 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/sinatra                            latest              9430f31cd6f8        4 weeks ago         384 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/redis                              latest              812e2258613c        4 weeks ago         157 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">mysql                                    latest              e799c7f9ae9c        4 weeks ago         407 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/nginx                              latest              8d808aefc701        4 weeks ago         212 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu                                   latest              f7b3f317ec73        6 weeks ago         117 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">swarm                                    latest              36b1e23becab        4 months ago        15.9 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">garland/mesosphere-docker-marathon       latest              590d18fc2dae        8 months ago        856 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">garland/zookeeper                        latest              4af3d43d75b0        2 years ago         379 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">garland/mesosphere-docker-mesos-master   latest              a237b70056b9        2 years ago         637 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker run --rm swarm -v</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">swarm version 1.2.6 (`git rev-parse --short HEAD`)</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker run swarm help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage: swarm [OPTIONS] COMMAND [arg...]</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">A Docker-native clustering system</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Version: 1.2.6 (`git rev-parse --short HEAD`)</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --debug            debug mode [$DEBUG]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --log-level, -l &quot;info&quot;    Log level (options: debug, info, warn, error, fatal, panic)</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --experimental        enable experimental features</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --help, -h            show help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --version, -v            print the version</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Commands:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  create, c    Create a cluster</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  list, l    List nodes in a cluster</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  manage, m    Manage a docker cluster</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  join, j    Join a docker cluster</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  help        Shows a list of commands or help for one command</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Run 'swarm COMMAND --help' for more information on a command.</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker run swarm create --help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage: swarm create</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Create a cluster</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker run swarm list --help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage: swarm list [OPTIONS] &lt;discovery&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">List nodes in a cluster</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Arguments:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   &lt;discovery&gt;    discovery service to use [$SWARM_DISCOVERY]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * token://&lt;token&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * consul://&lt;ip&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * etcd://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * file://path/to/file</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * zk://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * [nodes://]&lt;ip1&gt;,&lt;ip2&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --timeout &quot;10s&quot;                            timeout period</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --discovery-opt [--discovery-opt option --discovery-opt option]    discovery options</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker run swarm manage --help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage: swarm manage [OPTIONS] &lt;discovery&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Manage a docker cluster</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Arguments:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   &lt;discovery&gt;    discovery service to use [$SWARM_DISCOVERY]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * token://&lt;token&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * consul://&lt;ip&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * etcd://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * file://path/to/file</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * zk://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * [nodes://]&lt;ip1&gt;,&lt;ip2&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --strategy &quot;spread&quot;                            placement strategy to use [spread, binpack, random]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --filter, -f [--filter option --filter option]            filter to use [health, port, containerslots, dependency, affinity, constraint, whitelist]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --host, -H [--host option --host option]                ip/socket to listen on [$SWARM_HOST]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --replication                            Enable Swarm manager replication</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --replication-ttl &quot;20s&quot;                        Leader lock release time on failure</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --advertise, --addr                             Address of the swarm manager joining the cluster. Other swarm manager(s) MUST be able to reach the swarm manager at this address. [$SWARM_ADVERTISE]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --tls                                use TLS; implied by --tlsverify=true</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --tlscacert                                 trust only remotes providing a certificate signed by the CA given here</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --tlscert                                 path to TLS certificate file</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --tlskey                                 path to TLS key file</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --tlsverify                                use TLS and verify the remote</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --engine-refresh-min-interval &quot;30s&quot;                    set engine refresh minimum interval</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --engine-refresh-max-interval &quot;60s&quot;                    set engine refresh maximum interval</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --engine-failure-retry &quot;3&quot;                        set engine failure retry count</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --engine-refresh-retry &quot;3&quot;                        deprecated; replaced by --engine-failure-retry</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --heartbeat &quot;60s&quot;                            period between each heartbeat</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --api-enable-cors, --cors                        enable CORS headers in the remote API</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --cluster-driver, -c &quot;swarm&quot;                        cluster driver to use [swarm, mesos-experimental]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --discovery-opt [--discovery-opt option --discovery-opt option]    discovery options</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --cluster-opt [--cluster-opt option --cluster-opt option]        cluster driver options</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --refresh-on-node-filter                        If true, refresh the cache when a ContainerList call comes in with a node filter</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --container-name-refresh-filter                     If set, refresh the cache when a ContainerList call comes in with a name filter set to this value</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                        * swarm.overcommit=0.05        overcommit to apply on resources</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * swarm.createretry=0            container create retry count after initial failure</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.address=            address to bind on [$SWARM_MESOS_ADDRESS]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.checkpointfailover=false    checkpointing allows a restarted slave to reconnect with old executors and recover status updates, at the cost of disk I/O [$SWARM_MESOS_CHECKPOINT_FAILOVER]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.port=                port to bind on [$SWARM_MESOS_PORT]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.offertimeout=30s        timeout for offers [$SWARM_MESOS_OFFER_TIMEOUT]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.offerrefusetimeout=5s        seconds to consider unused resources refused [$SWARM_MESOS_OFFER_REFUSE_TIMEOUT]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.tasktimeout=5s            timeout for task creation [$SWARM_MESOS_TASK_TIMEOUT]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                                         * mesos.user=                framework user [$SWARM_MESOS_USER]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker run swarm join --help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage: swarm join [OPTIONS] &lt;discovery&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Join a docker cluster</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Arguments:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   &lt;discovery&gt;    discovery service to use [$SWARM_DISCOVERY]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * token://&lt;token&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * consul://&lt;ip&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * etcd://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * file://path/to/file</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * zk://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                   * [nodes://]&lt;ip1&gt;,&lt;ip2&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --advertise, --addr                             Address of the Docker Engine joining the cluster. Swarm manager(s) MUST be able to reach the Docker Engine at this address. [$SWARM_ADVERTISE]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --heartbeat &quot;60s&quot;                            period between each heartbeat</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --ttl &quot;180s&quot;                                set the expiration of an ephemeral node</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --delay &quot;0s&quot;                                add a random delay in [0s,delay] to avoid synchronized registration</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   --discovery-opt [--discovery-opt option --discovery-opt option]    discovery options</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Docker swarm v2</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker swarm --help</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage:    docker swarm COMMAND</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Manage Swarm</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      --help   Print usage</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Commands:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  init        Initialize a swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  join        Join a swarm as a node and/or manager</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  join-token  Manage join tokens</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  leave       Leave the swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  unlock      Unlock swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  unlock-key  Manage the unlock key</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  update      Update the swarm</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Run 'docker swarm COMMAND --help' for more information on a command.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/swarm$ cat README.md</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Recipe for Docker Swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">=======================</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">This starts a Vagrant cluster with a head node `swarm-head` and three compute nodes `swarm-{1-3}`</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ vagrant up</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">The compute node install the latest version of docker and listen on the 0.0.0.0 interface for remote API access.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">See the `docker-bootstrap.sh` script.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">The head node installs the default ubuntu14.04 Docker, clones the swarm project and build a swarm image, see `swarm-bootstrap.sh`</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ git clone https://github.com/docker/swarm.git</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ cd swarm/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker build -t swarm .</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">When the cluster is up, ssh to the head node</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ vagrant ssh swarm-head</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Start a swarm container in background, mounting the `/vagrant` directory and exposing a port where you are going to run the swarm server.</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker run -v /vagrant/:/tmp/vagrant -p 1234:1234 -d swarm manage --discovery file:///tmp/vagrant/swarm-cluster.cfg -H=0.0.0.0:1234</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Mounting the /vagrant directory allows to share the `swarm-cluster.cfg` file, which is a hardcoded list of the compute nodes.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">This is far from ideal, but the easiest discovery mechanism.</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">You are then ready to go with swarm:</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker -H 172.17.42.1:1234 info</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    Containers: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    Images: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    Storage Driver:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    Nodes: 3</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">     swarm-2: http://192.168.33.12:2375</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">     swarm-1: http://192.168.33.11:2375</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">     swarm-3: http://192.168.33.13:2375</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    Execution Driver:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    Kernel Version:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    WARNING: No memory limit support</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    WARNING: No swap limit support</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    WARNING: IPv4 forwarding is disabled.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker -H 172.17.42.1:1234 ps</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker -H 172.17.42.1:1234 run -d -p 80:80 nginx</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    9bbb4950cec9d0a696e00949e536b0c79e7cf688d604043662e82f11a5ad336e</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker -H 172.17.42.1:1234 ps</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS                  PORTS                                   NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    9bbb4950cec9        nginx:1             nginx -g 'daemon off   10 seconds ago      Up Less than a second   443/tcp, 192.168.33.13:80-&gt;80/tcp   swarm-3/prickly_poincare   </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker -H 172.17.42.1:1234 run -d -p 80:80 nginx</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    95d0f755d09490e0fbeab4819ba9d87ce654528cdc20f1723d601760137940de</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker -H 172.17.42.1:1234 ps</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    CONTAINER ID        IMAGE               COMMAND                CREATED                  STATUS                  PORTS                               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    95d0f755d094        nginx:1             nginx -g 'daemon off   Less than a second ago   Up Less than a second   443/tcp,   192.168.33.12:80-&gt;80/tcp   swarm-2/backstabbing_davinci   </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    9bbb4950cec9        nginx:1             nginx -g 'daemon off   5 minutes ago            Up 5 minutes            443/tcp,   192.168.33.13:80-&gt;80/tcp   swarm-3/prickly_poincare       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker ps</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                              NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    72acd5bc00de        swarm:latest        swarm manage --disco   12 minutes ago      Up 12 minutes       2375/tcp, 0.0.0.0:1234-&gt;1234/tcp   silly_brown         </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    $ docker logs 72acd5bc00de</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:49:53Z&quot; level=info msg=&quot;Listening for HTTP on tcp (0.0.0.0:1234)&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:50:29Z&quot; level=info msg=&quot;GET /v1.12/info&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:50:35Z&quot; level=info msg=&quot;GET /v1.12/containers/json&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:51:30Z&quot; level=info msg=&quot;POST /v1.12/containers/create&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:56:09Z&quot; level=info msg=&quot;event -&gt; status: \&quot;pull\&quot; from: \&quot;\&quot; id: \&quot;nginx\&quot; node: \&quot;swarm-3\&quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:56:09Z&quot; level=info msg=&quot;event -&gt; status: \&quot;create\&quot; from: \&quot;nginx:1\&quot; id:   \&quot;9bbb4950cec9d0a696e00949e536b0c79e7cf688d604043662e82f11a5ad336e\&quot; node: \&quot;swarm-3\&quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:56:09Z&quot; level=info msg=&quot;POST   /v1.12/containers/9bbb4950cec9d0a696e00949e536b0c79e7cf688d604043662e82f11a5ad336e/start&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:56:10Z&quot; level=info msg=&quot;event -&gt; status: \&quot;start\&quot; from: \&quot;nginx:1\&quot; id: \&quot;9bbb4950cec9d0a696e00949e536b0c79e7cf688d604043662e82f11a5ad336e\&quot; node: \&quot;swarm-3\&quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:56:19Z&quot; level=info msg=&quot;GET /v1.12/containers/json&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T08:56:31Z&quot; level=info msg=&quot;POST /v1.12/containers/create&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T09:01:36Z&quot; level=info msg=&quot;event -&gt; status: \&quot;pull\&quot; from: \&quot;\&quot; id: \&quot;nginx\&quot; node: \&quot;swarm-2\&quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T09:01:36Z&quot; level=info msg=&quot;event -&gt; status: \&quot;create\&quot; from: \&quot;nginx:1\&quot; id: \&quot;95d0f755d09490e0fbeab4819ba9d87ce654528cdc20f1723d601760137940de\&quot; node: \&quot;swarm-2\&quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T09:01:36Z&quot; level=info msg=&quot;POST /v1.12/containers/95d0f755d09490e0fbeab4819ba9d87ce654528cdc20f1723d601760137940de/start&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T09:01:37Z&quot; level=info msg=&quot;event -&gt; status: \&quot;start\&quot; from: \&quot;nginx:1\&quot; id: \&quot;95d0f755d09490e0fbeab4819ba9d87ce654528cdc20f1723d601760137940de\&quot; node: \&quot;swarm-2\&quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    time=&quot;2015-01-07T09:01:42Z&quot; level=info msg=&quot;GET /v1.12/containers/json&quot;ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/swarm$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/swarm$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/swarm$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/swarm$ cat swarm-cluster.cfg</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">192.168.33.11:2375</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">192.168.33.12:2375</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">192.168.33.13:2375</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker/docbook/ch07/swarm$</span></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><hr/><div><br/></div><div><span style="font-size: 21px;">Docker Machine</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ curl -L https://github.com/docker/machine/releases/download/v0.10.0/docker-machine-`uname -s`-`uname -m` &gt;/tmp/docker-machine &amp;&amp; chmod +x /tmp/docker-machine &amp;&amp; sudo cp /tmp/docker-machine /usr/local/bin/docker-machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                                 Dload  Upload   Total   Spent    Left  Speed</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">100   617    0   617    0     0    692      0 --:--:-- --:--:-- --:--:--   691</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">100 24.1M  100 24.1M    0     0   371k      0  0:01:06  0:01:06 --:--:--  441k</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ docker-machine --help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage: docker-machine [OPTIONS] COMMAND [arg...]</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Create and manage machines running Docker.</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Version: 0.10.0, build 76ed2a6</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Author:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Docker Machine Contributors - &lt;https://github.com/docker/machine&gt;</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --debug, -D                        Enable debug mode</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --storage-path, -s &quot;/home/ubuntu/.docker/machine&quot;    Configures storage path [$MACHINE_STORAGE_PATH]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --tls-ca-cert                     CA to verify remotes against [$MACHINE_TLS_CA_CERT]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --tls-ca-key                         Private key to generate certificates [$MACHINE_TLS_CA_KEY]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --tls-client-cert                     Client cert to use for TLS [$MACHINE_TLS_CLIENT_CERT]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --tls-client-key                     Private key used in client TLS auth [$MACHINE_TLS_CLIENT_KEY]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --github-api-token                     Token to use for requests to the Github API [$MACHINE_GITHUB_API_TOKEN]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --native-ssh                        Use the native (Go-based) SSH implementation. [$MACHINE_NATIVE_SSH]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --bugsnag-api-token                     BugSnag API token for crash reporting [$MACHINE_BUGSNAG_API_TOKEN]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --help, -h                        show help</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  --version, -v                        print the version</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Commands:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  active        Print which machine is active</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  config        Print the connection config for machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  create        Create a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  env            Display the commands to set up the environment for the Docker client</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  inspect        Inspect information about a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  ip            Get the IP address of a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  kill            Kill a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  ls            List machines</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  provision        Re-provision existing machines</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  regenerate-certs    Regenerate TLS Certificates for a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  restart        Restart a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  rm            Remove a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  ssh            Log into or run a command on a machine with SSH.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  scp            Copy files between machines</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  start            Start a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  status        Get the status of a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  stop            Stop a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  upgrade        Upgrade a machine to the latest version of Docker</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  url            Get the URL of a machine</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  version        Show the Docker Machine version or a machine docker version</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  help            Shows a list of commands or help for one command</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Run 'docker-machine COMMAND --help' for more information on a command.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><hr/><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ ll</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">total 16</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x  4 ubuntu ubuntu 4096 Jun  2 00:15 ./</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxr-xr-x 27 ubuntu ubuntu 4096 Jun 11 06:51 ../</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x 14 ubuntu ubuntu 4096 Jun  2 00:15 docbook/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x  4 ubuntu ubuntu 4096 May  9 09:13 dockerbook-code/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker ps -a</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CONTAINER ID        IMAGE                                           COMMAND                  CREATED             STATUS                           PORTS               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2ed42358ca1e        garland/mesosphere-docker-marathon              &quot;/opt/marathon/bin...&quot;   19 hours ago        Exited (137) 3 minutes ago                           composemesos_marathon_1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">769a5b4e4cfb        garland/mesosphere-docker-mesos-master:latest   &quot;mesos-slave&quot;            19 hours ago        Exited (137) 3 minutes ago                           composemesos_mesosslave_1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">a96124e167d4        garland/mesosphere-docker-mesos-master          &quot;mesos-master&quot;           19 hours ago        Exited (137) 2 minutes ago                           composemesos_mesosmaster_1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">f53793f611f1        garland/zookeeper                               &quot;/opt/run.sh&quot;            19 hours ago        Exited (137) 2 minutes ago                           composemesos_zookeeper_1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ced902c1f11f        huzhi/ubuntu                                    &quot;bash&quot;                   22 hours ago        Exited (127) About an hour ago                       cookbook</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker images</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">REPOSITORY                               TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/ubuntu                             latest              295a670d7efa        23 hours ago        162 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">wordpress                                latest              c8fc64de4cb3        2 days ago          406 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/sinatra_redis                      latest              517bd2ed6f60        4 weeks ago         384 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/sinatra                            latest              9430f31cd6f8        4 weeks ago         384 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/redis                              latest              812e2258613c        4 weeks ago         157 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">mysql                                    latest              e799c7f9ae9c        4 weeks ago         407 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">huzhi/nginx                              latest              8d808aefc701        4 weeks ago         212 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu                                   latest              f7b3f317ec73        6 weeks ago         117 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">garland/mesosphere-docker-marathon       latest              590d18fc2dae        8 months ago        856 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">garland/zookeeper                        latest              4af3d43d75b0        2 years ago         379 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">garland/mesosphere-docker-mesos-master   latest              a237b70056b9        2 years ago         637 MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker save -o ./huzhi_ubuntu.tar huzhi/ubuntu</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ ll</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">total 162388</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x  4 ubuntu ubuntu      4096 Jun 12 04:44 ./</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxr-xr-x 27 ubuntu ubuntu      4096 Jun 11 06:51 ../</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x 14 ubuntu ubuntu      4096 Jun  2 00:15 docbook/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x  4 ubuntu ubuntu      4096 May  9 09:13 dockerbook-code/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-rw-------  1 root   root   166268416 Jun 12 04:44 huzhi_ubuntu.tar</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker load --help</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage:    docker load [OPTIONS]</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Load an image from a tar archive or STDIN</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      --help           Print usage</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  -i, --input string   Read from tar archive file, instead of STDIN</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  -q, --quiet          Suppress the load output</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ ll</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">total 162388</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x  4 ubuntu ubuntu      4096 Jun 12 04:44 ./</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxr-xr-x 27 ubuntu ubuntu      4096 Jun 11 06:51 ../</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x 14 ubuntu ubuntu      4096 Jun  2 00:15 docbook/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">drwxrwxr-x  4 ubuntu ubuntu      4096 May  9 09:13 dockerbook-code/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-rw-------  1 root   root   166268416 Jun 12 04:44 huzhi_ubuntu.tar</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~/docker$ sudo docker load -i ./huzhi_ubuntu.tar</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">docker load &lt; ./huzhi_ubuntu.tar </span></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><hr/><div><br/></div><div>docker如何有效的压缩镜像体积</div><div><br/></div><div><a href="https://wiki.avlyun.org/pages/viewpage.action?pageId=29037994">https://wiki.avlyun.org/pages/viewpage.action?pageId=29037994</a></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># Version: 0.0.1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">FROM centos/centos7-base:latest</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">MAINTAINER mango &quot;wangyazhe@antiy.cn&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">USER root</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># yum install ; pip install</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ADD centos7.repo /etc/yum.repos.d/CentOS-Base.repo</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># RUN yum makecache</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># RUN yum -y update;yum -y clean all</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN yum -y install python-devel python-setuptools vim wget zip unzip net-tools openssh-server openssh-clients ntp</span><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(255, 0, 0); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">; yum -y clean all</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN easy_install pip</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN pip install supervisor kombu requests boto --no-cache-dir</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># ssh set</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN ssh-keygen -q -N &quot;&quot; -t dsa -f /etc/ssh/ssh_host_dsa_key</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN ssh-keygen -q -N &quot;&quot; -t rsa -f /etc/ssh/ssh_host_rsa_key</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key -N &quot;&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN sed -ri 's/session    required     pam_loginuid.so/#session    required     pam_loginuid.so/g' /etc/pam.d/sshd</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN mkdir -p /root/.ssh &amp;&amp; chown root.root /root &amp;&amp; chmod 700 /root/.ssh</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN echo 'root:123456' | chpasswd</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># dir set</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN mkdir -p /var/log/supervisor</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN mkdir -p /var/tmp</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN mkdir -p /opt/fastdfs/storage</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RUN mkdir -p /opt/pipboy/src</span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># file set</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ADD docker.tar.gz /opt/pipboy/src/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ADD avlm_test.tar.gz /opt/pipboy/src/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ADD supervisord.conf /etc/supervisord.conf</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># port set</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">EXPOSE 22</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"># cmd set</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CMD [&quot;/bin/bash&quot;]</span></div></div><div><br/></div><div><br/></div><div><br/></div><hr/><div><br/></div><div>docker run -i -t --dns=127.0.0.1 -p 9527:9527 -v /opt/outside_adfsindex:/opt/inside_adfsindex docker.avlyun.org/platform/adfs_index /bin/bash</div><div>(注意，此处使用了--dns参数来指定使用容器本地的dnsmasq（vi /etc/dnsmasq.hosts  service dnsmasq restart）进行dns解析，如果你有其他的dns服务器，也需要添加到此处)</div><div>按ctrl+p ctrl+q的组合键将容器置于后台运行</div><div><br/></div><div><br/></div><hr/><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network help</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Usage:    docker network COMMAND</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Manage networks</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">      --help   Print usage</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Commands:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  connect     Connect a container to a network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  create      Create a network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  disconnect  Disconnect a container from a network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  inspect     Display detailed information on one or more networks</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  ls          List networks</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  prune       Remove all unused networks</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  rm          Remove one or more networks</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Run 'docker network COMMAND --help' for more information on a command.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">NETWORK ID          NAME                DRIVER              SCOPE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">59edb9c72659        bridge              bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">cb1832ef47ac        host                host                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">323c4c57ff05        none                null                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network inspect bridge</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Name&quot;: &quot;bridge&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Id&quot;: &quot;59edb9c72659657b7a229c63cff932ffdd8a3433e853d5b7abdb4bf4e44c26e1&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Created&quot;: &quot;2017-05-08T05:54:40.22355065Z&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Scope&quot;: &quot;local&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Driver&quot;: &quot;bridge&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;EnableIPv6&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;IPAM&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Driver&quot;: &quot;default&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Options&quot;: null,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Config&quot;: [</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Subnet&quot;: &quot;172.18.0.0/16&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            ]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Internal&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Attachable&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Containers&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Options&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;com.docker.network.bridge.default_bridge&quot;: &quot;true&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;com.docker.network.bridge.enable_icc&quot;: &quot;true&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;com.docker.network.bridge.host_binding_ipv4&quot;: &quot;0.0.0.0&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;com.docker.network.bridge.name&quot;: &quot;docker0&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;com.docker.network.driver.mtu&quot;: &quot;1500&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Labels&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network inspect host</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Name&quot;: &quot;host&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Id&quot;: &quot;cb1832ef47ac663cc4fb6bc9f5fa6877af42b57129fc4ae605c8d1c888fac97d&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Created&quot;: &quot;2017-05-08T05:54:40.200145247Z&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Scope&quot;: &quot;local&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Driver&quot;: &quot;host&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;EnableIPv6&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;IPAM&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Driver&quot;: &quot;default&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Options&quot;: null,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Config&quot;: []</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Internal&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Attachable&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Containers&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Options&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Labels&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network inspect none</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Name&quot;: &quot;none&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Id&quot;: &quot;323c4c57ff054e7f4c5c924e6c313e49cbc27cd5bbe1683eb6cec52dc5416a2a&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Created&quot;: &quot;2017-05-08T05:54:40.136550113Z&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Scope&quot;: &quot;local&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Driver&quot;: &quot;null&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;EnableIPv6&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;IPAM&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Driver&quot;: &quot;default&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Options&quot;: null,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Config&quot;: []</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Internal&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Attachable&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Containers&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Options&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Labels&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network create my-network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">f8ce1145b3e2d19ba8f9bb472a80b26ac3dd914563e5e2e3fad08dcbd8d6b384</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">NETWORK ID          NAME                DRIVER              SCOPE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">59edb9c72659        bridge              bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">cb1832ef47ac        host                host                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">f8ce1145b3e2        my-network          bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">323c4c57ff05        none                null                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network inspect my-network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Name&quot;: &quot;my-network&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Id&quot;: &quot;f8ce1145b3e2d19ba8f9bb472a80b26ac3dd914563e5e2e3fad08dcbd8d6b384&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Created&quot;: &quot;2017-07-22T06:13:16.458178715Z&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Scope&quot;: &quot;local&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Driver&quot;: &quot;bridge&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;EnableIPv6&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;IPAM&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Driver&quot;: &quot;default&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Options&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Config&quot;: [</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Subnet&quot;: &quot;172.19.0.0/16&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Gateway&quot;: &quot;172.19.0.1&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            ]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Internal&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Attachable&quot;: false,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Containers&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Options&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Labels&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$</span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker run -d --name mysql-server --network my-network -e MYSQL_ROOT_PASSWORD=secret mysql</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker run -it --rm --network my-network mysql sh -c 'exec mysql -h&quot;mysql-server&quot; -P&quot;3306&quot; -uroot -p&quot;secret&quot;'</span></div><ul><li><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">--rm，容器退出后自动删除</span></div></li><li><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">--network，指定需要连接的网络</span></div></li></ul><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network rm my-network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">my-network</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$ sudo docker network ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">NETWORK ID          NAME                DRIVER              SCOPE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">59edb9c72659        bridge              bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">cb1832ef47ac        host                host                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">323c4c57ff05        none                null                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ubuntu@huzhi-ubuntu3:~$</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 21px; font-weight: bold;">swarm mode</span></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">SwarmKit</span></div></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@server-1116 ~]# virsh list</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Id    Name                           State</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">----------------------------------------------------</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> 51    swarm-01                       running</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> 52    swarm-02                       running</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> 53    swarm-03                       running</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> 54    swarm-04                       running</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> 55    swarm-05                       running</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@server-1116 ~]#</span></div><div><br/></div></div><div><br/></div><div>root</div><div>swarm!@#$%^</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ifup eth0</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ip address</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">service firewalld status</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">service firewalld stop</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">curl -o /etc/yum.repos.d/CentOS-Aliyun.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">yum makecache</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">yum install -y ntpdate wget vim net-tools unzip zip</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">timedatectl</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">timedatectl set-timezone Asia/Shanghai</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ntpdate ntp1.aliyun.com ntp2.aliyun.com ntp3.aliyun.com ntp4.aliyun.com</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">date</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">sudo yum makecache fast</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">sudo yum install -y docker-ce</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">systemctl daemon-reload</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">systemctl enable docker.service</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">systemctl start docker.service</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">systemctl status docker.service</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">docker info</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">curl -L https://github.com/docker/compose/releases/download/1.15.0/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">chmod +x /usr/local/bin/docker-compose</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">/usr/local/bin/docker-compose --version</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">docker-compose --version</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ln -s /usr/local/bin/docker-compose /usr/sbin/docker-compose</span></div></div><table style="table-layout: fixed; border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 288px;"></col><col style="width: 69px;"></col><col style="width: 69px;"></col><col style="width: 144px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(211, 211, 211); width: 288px; padding: 8px;"><div style="text-align: center;">hostname</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">real_ip</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">role</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 144px; padding: 8px;"><div style="text-align: center;">port</div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 288px; padding: 8px;"><div style="text-align: center;">swarm-01</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">10.128.128.110</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">manager节点</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 144px; padding: 8px;"><div style="text-align: center;">192.168.10.234:9001</div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 288px; padding: 8px;"><div style="text-align: center;">swarm-02</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">10.128.128.158</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">worker节点</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 144px; padding: 8px;"><div style="text-align: center;">192.168.10.234:9002</div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 288px; padding: 8px;"><div style="text-align: center;">swarm-03</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">10.128.128.238</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">worker节点</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 144px; padding: 8px;"><div style="text-align: center;">192.168.10.234:9003</div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 288px; padding: 8px;"><div style="text-align: center;">swarm-04</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">10.128.128.226</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">worker节点</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 144px; padding: 8px;"><div style="text-align: center;">192.168.10.234:9004</div></td></tr><tr><td style="border: 1px solid rgb(211, 211, 211); width: 288px; padding: 8px;"><div style="text-align: center;">swarm-05</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">10.128.128.213</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 69px; padding: 8px;"><div style="text-align: center;">worker节点</div></td><td style="border: 1px solid rgb(211, 211, 211); width: 144px; padding: 8px;"><div style="text-align: center;">192.168.10.234:9005</div></td></tr></tbody></table><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">hostnamectl set-hostname swarm-01</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">hostnamectl set-hostname swarm-02</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">hostnamectl set-hostname swarm-03</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">hostnamectl set-hostname swarm-04</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">hostnamectl set-hostname swarm-05</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">hostnamectl</span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">vim /etc/hosts</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">10.128.128.110  swarm-01</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">10.128.128.158  swarm-02</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">10.128.128.238  swarm-03</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">10.128.128.226  swarm-04</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">10.128.128.213  swarm-05</span></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div>manager节点</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker swarm init --advertise-addr 10.128.128.110</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Swarm initialized: current node (2s6b4q4j9fi80bdu0sek2l8xj) is now a manager.</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">To add a worker to this swarm, run the following command:</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    docker swarm join --token SWMTKN-1-00r7shqn93w0o8wjs613tmfjym3x5k634jv3zryhljvo4yapct-4wonogbaovtgaezwn7la8aq3k 10.128.128.110:2377</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">To add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker swarm join-token worker</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">To add a worker to this swarm, run the following command:</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    docker swarm join --token SWMTKN-1-00r7shqn93w0o8wjs613tmfjym3x5k634jv3zryhljvo4yapct-4wonogbaovtgaezwn7la8aq3k 10.128.128.110:2377</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker info</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Containers: 1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Running: 1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Paused: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Stopped: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Images: 1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Server Version: 17.06.1-ce</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Storage Driver: overlay</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Backing Filesystem: xfs</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Supports d_type: true</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Logging Driver: json-file</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Cgroup Driver: cgroupfs</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Plugins:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Volume: local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Network: bridge host macvlan null overlay</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Swarm: active</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> NodeID: 2s6b4q4j9fi80bdu0sek2l8xj</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Is Manager: true</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> ClusterID: 00sa0s0lwwrpw6bunt0pqc740</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Managers: 1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Nodes: 5</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Orchestration:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Task History Retention Limit: 5</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Raft:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Snapshot Interval: 10000</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Number of Old Snapshots to Retain: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Heartbeat Tick: 1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Election Tick: 3</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Dispatcher:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Heartbeat Period: 5 seconds</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> CA Configuration:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Expiry Duration: 3 months</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Force Rotate: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Root Rotation In Progress: false</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Node Address: 10.128.128.110</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Manager Addresses:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  10.128.128.110:2377</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Runtimes: runc</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Default Runtime: runc</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Init Binary: docker-init</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">containerd version: 6e23458c129b551d5c9871e5174f6b1b7f6d1170</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">runc version: 810190ceaa507aa2727d7ae6f4790c76ec150bd2</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">init version: 949e6fa</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Security Options:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> seccomp</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">  Profile: default</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Kernel Version: 3.10.0-514.el7.x86_64</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Operating System: CentOS Linux 7 (Core)</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">OSType: linux</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Architecture: x86_64</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CPUs: 2</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Total Memory: 1.796GiB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Name: swarm-01</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID: LA5B:5L7N:J46U:P2JU:LAKL:UUVM:LA3D:JPSX:RIUB:CPZK:EPZA:FXZ6</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Docker Root Dir: /var/lib/docker</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Debug Mode (client): false</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Debug Mode (server): false</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Registry: https://index.docker.io/v1/</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Experimental: false</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Insecure Registries:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> 127.0.0.0/8</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Live Restore Enabled: false</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">3w3014he63242togyeyb35k1w     swarm-02            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">fivl9s8cvlrweptjjacu8zqv8     swarm-04            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">jqher5t38yyir31it3b6dxfry     swarm-05            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">pzuezfs7ykegw0dvslpznwssa     swarm-03            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker node inspect --pretty 2s6b4q4j9fi80bdu0sek2l8xj</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID:            2s6b4q4j9fi80bdu0sek2l8xj</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Hostname:                  swarm-01</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Joined at:                 2017-08-25 13:22:32.575640702 +0000 utc</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Status:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> State:            Ready</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Availability:             Active</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Address:        10.128.128.110</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Manager Status:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Address:        10.128.128.110:2377</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Raft Status:        Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Leader:        Yes</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Platform:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Operating System:    linux</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Architecture:        x86_64</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Resources:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> CPUs:            2</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Memory:        1.796GiB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Plugins:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Log:        awslogs, fluentd, gcplogs, gelf, journald, json-file, logentries, splunk, syslog</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Network:        bridge, host, macvlan, null, overlay</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Volume:        local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Engine Version:        17.06.1-ce</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">TLS Info:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> TrustRoot:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-----BEGIN CERTIFICATE-----</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">MIIBazCCARCgAwIBAgIUV9+lhfN8rnixxKO/Z81b0NIJ3vcwCgYIKoZIzj0EAwIw</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">EzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODI1MTMxODAwWhcNMzcwODIwMTMx</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ODAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">A0IABFWoY4MMErx4kVSvdvALpnpI2aVh1gyUdY64UaGXJrac1EuswgrQ+mdInRdi</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">SUK+gryTH8HbvFgLDKGN1x+u6K+jQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Af8EBTADAQH/MB0GA1UdDgQWBBRpRcbjYujVrgM/KZJjhv6XxAU2mjAKBggqhkjO</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">PQQDAgNJADBGAiEA4R+o0nX2mfmjnWdIOF1+HUjeF0Z2NPnOIDFDV/dH0V4CIQDV</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Dv509/AhNKyx35VpCeE478upV6Ghd4TGPx5nh53U6A==</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-----END CERTIFICATE-----</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Issuer Subject:    MBMxETAPBgNVBAMTCHN3YXJtLWNh</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Issuer Public Key:    MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEVahjgwwSvHiRVK928AumekjZpWHWDJR1jrhRoZcmtpzUS6zCCtD6Z0idF2JJQr6CvJMfwdu8WAsMoY3XH67orw==</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker node inspect --pretty 3w3014he63242togyeyb35k1w</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID:            3w3014he63242togyeyb35k1w</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Hostname:                  swarm-02</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Joined at:                 2017-08-25 13:24:33.36440352 +0000 utc</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Status:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> State:            Ready</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Availability:             Active</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Address:        10.128.128.158</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Platform:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Operating System:    linux</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Architecture:        x86_64</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Resources:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> CPUs:            2</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Memory:        1.796GiB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Plugins:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Log:        awslogs, fluentd, gcplogs, gelf, journald, json-file, logentries, splunk, syslog</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Network:        bridge, host, macvlan, null, overlay</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Volume:        local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Engine Version:        17.06.1-ce</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">TLS Info:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> TrustRoot:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-----BEGIN CERTIFICATE-----</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">MIIBazCCARCgAwIBAgIUV9+lhfN8rnixxKO/Z81b0NIJ3vcwCgYIKoZIzj0EAwIw</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">EzERMA8GA1UEAxMIc3dhcm0tY2EwHhcNMTcwODI1MTMxODAwWhcNMzcwODIwMTMx</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ODAwWjATMREwDwYDVQQDEwhzd2FybS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEH</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">A0IABFWoY4MMErx4kVSvdvALpnpI2aVh1gyUdY64UaGXJrac1EuswgrQ+mdInRdi</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">SUK+gryTH8HbvFgLDKGN1x+u6K+jQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Af8EBTADAQH/MB0GA1UdDgQWBBRpRcbjYujVrgM/KZJjhv6XxAU2mjAKBggqhkjO</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">PQQDAgNJADBGAiEA4R+o0nX2mfmjnWdIOF1+HUjeF0Z2NPnOIDFDV/dH0V4CIQDV</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Dv509/AhNKyx35VpCeE478upV6Ghd4TGPx5nh53U6A==</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">-----END CERTIFICATE-----</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Issuer Subject:    MBMxETAPBgNVBAMTCHN3YXJtLWNh</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Issuer Public Key:    MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEVahjgwwSvHiRVK928AumekjZpWHWDJR1jrhRoZcmtpzUS6zCCtD6Z0idF2JJQr6CvJMfwdu8WAsMoY3XH67orw==</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service create --replicas 1 --name helloworld alpine ping docker.com</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">74kpf3mryfg3p3r5cii4pd6fa</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Since --detach=false was not specified, tasks will be created in the background.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">In a future release, --detach=false will become the default.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                  NAME                MODE                REPLICAS            IMAGE               PORTS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">74kpf3mryfg3        helloworld          replicated          1/1                 alpine:latest       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service inspect --pretty helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID:        74kpf3mryfg3p3r5cii4pd6fa</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Name:        helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Service Mode:    Replicated</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Replicas:    1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Placement:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">UpdateConfig:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Parallelism:    1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> On failure:    pause</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Monitoring Period: 5s</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Max failure ratio: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Update order:      stop-first</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">RollbackConfig:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Parallelism:    1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> On failure:    pause</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Monitoring Period: 5s</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Max failure ratio: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Rollback order:    stop-first</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ContainerSpec:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Image:        alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;"> Args:        ping docker.com</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Resources:</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Endpoint Mode:    vip</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service inspect helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;ID&quot;: &quot;74kpf3mryfg3p3r5cii4pd6fa&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Version&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Index&quot;: 31</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;CreatedAt&quot;: &quot;2017-08-25T13:27:05.486683242Z&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;UpdatedAt&quot;: &quot;2017-08-25T13:27:05.486683242Z&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Spec&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Name&quot;: &quot;helloworld&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Labels&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;TaskTemplate&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;ContainerSpec&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Image&quot;: &quot;alpine:latest@sha256:1072e499f3f655a032e88542330cf75b02e7bdf673278f701d7ba61629ee3ebe&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Args&quot;: [</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                        &quot;ping&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                        &quot;docker.com&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    ],</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;StopGracePeriod&quot;: 10000000000,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;DNSConfig&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Resources&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Limits&quot;: {},</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Reservations&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;RestartPolicy&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Condition&quot;: &quot;any&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Delay&quot;: 5000000000,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;MaxAttempts&quot;: 0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Placement&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Platforms&quot;: [</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                        {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                            &quot;Architecture&quot;: &quot;amd64&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                            &quot;OS&quot;: &quot;linux&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                        }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    ]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;ForceUpdate&quot;: 0,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Runtime&quot;: &quot;container&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Mode&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Replicated&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                    &quot;Replicas&quot;: 1</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;UpdateConfig&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Parallelism&quot;: 1,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;FailureAction&quot;: &quot;pause&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Monitor&quot;: 5000000000,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;MaxFailureRatio&quot;: 0,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Order&quot;: &quot;stop-first&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;RollbackConfig&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Parallelism&quot;: 1,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;FailureAction&quot;: &quot;pause&quot;,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Monitor&quot;: 5000000000,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;MaxFailureRatio&quot;: 0,</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Order&quot;: &quot;stop-first&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;EndpointSpec&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">                &quot;Mode&quot;: &quot;vip&quot;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        },</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        &quot;Endpoint&quot;: {</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">            &quot;Spec&quot;: {}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">        }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    }</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">]</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service ps helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                  NAME                IMAGE               NODE                    DESIRED STATE       CURRENT STATE           ERROR               PORTS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">v78a07w97t0q        helloworld.1        alpine:latest       localhost.localdomain   Running             Running 2 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service scale helloworld=6</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">helloworld scaled to 6</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                  NAME                MODE                REPLICAS            IMAGE               PORTS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">74kpf3mryfg3        helloworld          replicated          6/6                 alpine:latest       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#  </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service ps helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                  NAME                IMAGE               NODE                DESIRED STATE       CURRENT STATE            ERROR               PORTS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">v78a07w97t0q        helloworld.1        alpine:latest       swarm-03            Running             Running 15 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">6avxiczbv6n0        helloworld.2        alpine:latest       swarm-01            Running             Running 11 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">1ix19nu0x9bt        helloworld.3        alpine:latest       swarm-04            Running             Running 11 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">oxomkt9dir1z        helloworld.4        alpine:latest       swarm-05            Running             Running 11 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ukgwhf3guhjr        helloworld.5        alpine:latest       swarm-05            Running             Running 11 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">sczweh2s46e0        helloworld.6        alpine:latest       swarm-02            Running             Running 11 minutes ago                       </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker images</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">alpine              &lt;none&gt;              7328f6f8b418        8 weeks ago         3.96MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker ps -a</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">4156abcaaa3c        alpine:latest       &quot;ping docker.com&quot;   13 minutes ago      Up 13 minutes                           helloworld.2.6avxiczbv6n0wqslicbgx51ix</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker network ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">NETWORK ID          NAME                DRIVER              SCOPE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">f21efc3c068d        bridge              bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">a2ba5c4f0fd2        docker_gwbridge     bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">b833743707da        host                host                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">tvd8r3ej0emx        ingress             overlay             swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">1f571176f955        none                null                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service rm helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">helloworld</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker service ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                  NAME                MODE                REPLICAS            IMAGE               PORTS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker ps -a</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker images</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">alpine              &lt;none&gt;              7328f6f8b418        8 weeks ago         3.96MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">3w3014he63242togyeyb35k1w     swarm-02            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">fivl9s8cvlrweptjjacu8zqv8     swarm-04            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">jqher5t38yyir31it3b6dxfry     swarm-05            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">pzuezfs7ykegw0dvslpznwssa     swarm-03            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node promote 3w3014he63242togyeyb35k1w</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Node 3w3014he63242togyeyb35k1w promoted to a manager in the swarm.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">3w3014he63242togyeyb35k1w     swarm-02            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">fivl9s8cvlrweptjjacu8zqv8     swarm-04            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">jqher5t38yyir31it3b6dxfry     swarm-05            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">pzuezfs7ykegw0dvslpznwssa     swarm-03            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node promote pzuezfs7ykegw0dvslpznwssa</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Node pzuezfs7ykegw0dvslpznwssa promoted to a manager in the swarm.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">3w3014he63242togyeyb35k1w     swarm-02            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">fivl9s8cvlrweptjjacu8zqv8     swarm-04            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">jqher5t38yyir31it3b6dxfry     swarm-05            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">pzuezfs7ykegw0dvslpznwssa     swarm-03            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node promote fivl9s8cvlrweptjjacu8zqv8</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Node fivl9s8cvlrweptjjacu8zqv8 promoted to a manager in the swarm.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">3w3014he63242togyeyb35k1w     swarm-02            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">fivl9s8cvlrweptjjacu8zqv8     swarm-04            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">jqher5t38yyir31it3b6dxfry     swarm-05            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">pzuezfs7ykegw0dvslpznwssa     swarm-03            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]#</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node demote fivl9s8cvlrweptjjacu8zqv8</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Manager fivl9s8cvlrweptjjacu8zqv8 demoted in the swarm.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">2s6b4q4j9fi80bdu0sek2l8xj *   swarm-01            Ready               Active              Leader</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">3w3014he63242togyeyb35k1w     swarm-02            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">fivl9s8cvlrweptjjacu8zqv8     swarm-04            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">jqher5t38yyir31it3b6dxfry     swarm-05            Ready               Active             </span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">pzuezfs7ykegw0dvslpznwssa     swarm-03            Ready               Active              Reachable</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@swarm-01 ~]#</span></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div>worker节点</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker swarm join --token SWMTKN-1-00r7shqn93w0o8wjs613tmfjym3x5k634jv3zryhljvo4yapct-4wonogbaovtgaezwn7la8aq3k 10.128.128.110:2377</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">This node joined a swarm as a worker.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker images</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">alpine              &lt;none&gt;              7328f6f8b418        8 weeks ago         3.96MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker ps -a</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">aaedd7e53004        alpine:latest       &quot;ping docker.com&quot;   13 minutes ago      Up 13 minutes                           helloworld.6.sczweh2s46e02bilpkisqgve0</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker network ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">NETWORK ID          NAME                DRIVER              SCOPE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">b31b40b4cd67        bridge              bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">75813f588c32        docker_gwbridge     bridge              local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">d4f7b6d58414        host                host                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">tvd8r3ej0emx        ingress             overlay             swarm</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">60aeefc1a055        none                null                local</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">###################################################################################################################################</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker ps -a</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker images</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">alpine              &lt;none&gt;              7328f6f8b418        8 weeks ago         3.96MB</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]# docker node ls</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">Error response from daemon: This node is not a swarm manager. Worker nodes can't be used to view or modify cluster state. Please run this command on a manager node or promote the current node to a manager.</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">[root@localhost ~]#</span></div><div><br/></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">[root@rms-</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(255, 20, 147); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">test</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255); border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(51, 51, 51); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">~]</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 130, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"># cat /etc/sysconfig/docker</span></div><div style="text-align: left; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin: 0px !important; padding: 0px 1em 0px 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255) !important; border: 0px !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">OPTIONS=</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 51, 102); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">'--selinux-enabled --log-driver=journald --insecure-registry docker-registry.innovation.os'</span></div><div style="text-align: left; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin: 0px !important; padding: 0px 1em 0px 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255) !important; border: 0px !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">[root@rms-</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(255, 20, 147); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">test</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255); border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(51, 51, 51); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">~]</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 130, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">#</span></div><div style="text-align: left; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin: 0px !important; padding: 0px 1em 0px 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border-bottom-right-radius: 0px !important; border-bottom-left-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255) !important; border: 0px !important; float: none !important; height: auto !important; left: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">[root@rms-</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(255, 20, 147); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">test</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255); border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(51, 51, 51); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">~]</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 130, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"># systemctl restart docker.service</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">[root@rms-</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(255, 20, 147); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">test</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; border-radius: 0px !important; background-image: none !important; background-color: rgb(255, 255, 255); border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(51, 51, 51); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 0, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;">~]</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 250, 248); border-radius: 0px !important; background-image: none !important; border: 0px !important; height: auto !important; outline: 0px !important; overflow: visible !important; position: static !important; right: auto !important; top: auto !important; width: auto !important; box-sizing: content-box !important; font-size: 14px; min-height: auto !important; white-space: nowrap !important; bottom: auto; color: rgb(0, 130, 0); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; line-height: 20px;"># systemctl status docker.service</span></div></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><b><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@localhost ~]# docker login -u huzhi -p huzhi567233</span> <a href="http://registry.aspider.avlyun.org/" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">registry.aspider.avlyun.org</a></b></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Login Succeeded</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@localhost ~]#</span></div><div><b><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@localhost ~]# docker pull</span> <a href="http://registry.aspider.avlyun.org/library/centos7" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">registry.aspider.avlyun.org/library/centos7</a></b></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Using default tag: latest</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">latest: Pulling from library/centos7</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">d9aaf4d82f24: Pull complete</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">bcfccc23d085: Pull complete</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">d1b0237361d1: Pull complete</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">002d156b7065: Pull complete</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Digest: sha256:c6f18a26e1886b56954c48734e1ec95af9f7ac99c284cf3457fed9b95263e3da</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Status: Downloaded newer image for</span> <a href="http://registry.aspider.avlyun.org/library/centos7:latest" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">registry.aspider.avlyun.org/library/centos7:latest</a></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">You have mail in /var/spool/mail/root</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@localhost ~]#</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><b>[root@localhost ~]# docker images</b></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">REPOSITORY                                    TAG                 IMAGE ID            CREATED             SIZE</span></div><div><a href="http://registry.aspider.avlyun.org/library/centos7" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">registry.aspider.avlyun.org/library/centos7</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   latest              3b176d01caf2        6 weeks ago         205MB</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[root@localhost ~]#</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div></span>
</div></body></html> 