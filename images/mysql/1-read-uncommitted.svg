<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="processonSvg1000" viewBox="137.0 72.0 1010.5 1248.0" width="1010.5" height="1248.0"><defs id="ProcessOnDefs1001"><marker id="ProcessOnMarker1092" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1093" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker></defs><g id="ProcessOnG1002"><path id="ProcessOnPath1003" d="M137.0 72.0H1147.5V1320.0H137.0V72.0Z" fill="none"/><g id="ProcessOnG1004"><g id="ProcessOnG1005" transform="matrix(1.0,0.0,0.0,1.0,284.0,102.0)" opacity="1.0"><path id="ProcessOnPath1006" d="M61.0 30.0L61.0 1188.0" stroke="#323232" stroke-width="2.0" stroke-dasharray="2.0 3.0" opacity="1.0" fill="none"/><path id="ProcessOnPath1007" d="M0.0 0.0L122.0 0.0L122.0 30.0L0.0 30.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1008" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.875)"><text id="ProcessOnText1009" fill="#000000" font-size="13" x="50.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">client A</text></g></g><g id="ProcessOnG1010" transform="matrix(1.0,0.0,0.0,1.0,830.0,92.0)" opacity="1.0"><path id="ProcessOnPath1011" d="M109.5 30.0L109.5 880.0" stroke="#323232" stroke-width="2.0" stroke-dasharray="2.0 3.0" opacity="1.0" fill="none"/><path id="ProcessOnPath1012" d="M0.0 0.0L219.0 0.0L219.0 30.0L0.0 30.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1013" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.875)"><text id="ProcessOnText1014" fill="#000000" font-size="13" x="98.5" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">client B</text></g></g><g id="ProcessOnG1015" transform="matrix(1.0,0.0,0.0,1.0,157.0,155.0)" opacity="1.0"><path id="ProcessOnPath1016" d="M0.0 0.0L376.0 0.0L376.0 38.0L0.0 38.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1017" transform="matrix(1.0,0.0,0.0,1.0,10.0,10.875)"><text id="ProcessOnText1018" fill="#000000" font-size="13" x="177.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">set session transaction isolation level read uncommitted;</text></g></g><g id="ProcessOnG1019" transform="matrix(1.0,0.0,0.0,1.0,239.125,276.0)" opacity="1.0"><path id="ProcessOnPath1020" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1021" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1022" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1023" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1024" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  450</text></g></g><g id="ProcessOnG1025" transform="matrix(1.0,0.0,0.0,1.0,275.0,216.0)" opacity="1.0"><path id="ProcessOnPath1026" d="M0.0 0.0L140.0 0.0L140.0 34.0L0.0 34.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1027" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.875)"><text id="ProcessOnText1028" fill="#000000" font-size="13" x="59.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">start transaction;</text></g></g><g id="ProcessOnG1029" transform="matrix(1.0,0.0,0.0,1.0,753.25,557.0)" opacity="1.0"><path id="ProcessOnPath1030" d="M0.0 4.0Q0.0 0.0 4.0 0.0L368.5 0.0Q372.5 0.0 372.5 4.0L372.5 27.0Q372.5 31.0 368.5 31.0L4.0 31.0Q0.0 31.0 0.0 27.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1031" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.375)"><text id="ProcessOnText1032" fill="#000000" font-size="13" x="175.25" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">update account set balance = balance - 50 where id =1;</text></g></g><g id="ProcessOnG1033" transform="matrix(1.0,0.0,0.0,1.0,901.5,802.0)" opacity="1.0"><path id="ProcessOnPath1034" d="M0.0 4.0Q0.0 0.0 4.0 0.0L72.0 0.0Q76.0 0.0 76.0 4.0L76.0 36.0Q76.0 40.0 72.0 40.0L4.0 40.0Q0.0 40.0 0.0 36.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1035" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.875)"><text id="ProcessOnText1036" fill="#000000" font-size="13" x="27.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">rollback;</text></g></g><g id="ProcessOnG1037" transform="matrix(1.0,0.0,0.0,1.0,751.5,366.0)" opacity="1.0"><path id="ProcessOnPath1038" d="M0.0 0.0L376.0 0.0L376.0 38.0L0.0 38.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1039" transform="matrix(1.0,0.0,0.0,1.0,10.0,10.875)"><text id="ProcessOnText1040" fill="#000000" font-size="13" x="177.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">set session transaction isolation level read uncommitted;</text></g></g><g id="ProcessOnG1041" transform="matrix(1.0,0.0,0.0,1.0,833.625,475.0)" opacity="1.0"><path id="ProcessOnPath1042" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1043" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1044" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1045" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1046" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  450</text></g></g><g id="ProcessOnG1047" transform="matrix(1.0,0.0,0.0,1.0,869.5,421.0)" opacity="1.0"><path id="ProcessOnPath1048" d="M0.0 0.0L140.0 0.0L140.0 34.0L0.0 34.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1049" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.875)"><text id="ProcessOnText1050" fill="#000000" font-size="13" x="59.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">start transaction;</text></g></g><g id="ProcessOnG1051" transform="matrix(1.0,0.0,0.0,1.0,833.625,610.0)" opacity="1.0"><path id="ProcessOnPath1052" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1053" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1054" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1055" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1056" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  400</text></g></g><g id="ProcessOnG1057" transform="matrix(1.0,0.0,0.0,1.0,239.125,716.0)" opacity="1.0"><path id="ProcessOnPath1058" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1059" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1060" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1061" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1062" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  400</text></g></g><g id="ProcessOnG1063" transform="matrix(1.0,0.0,0.0,1.0,833.625,876.0)" opacity="1.0"><path id="ProcessOnPath1064" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1065" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1066" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1067" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1068" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  450</text></g></g><g id="ProcessOnG1069" transform="matrix(1.0,0.0,0.0,1.0,239.125,972.0)" opacity="1.0"><path id="ProcessOnPath1070" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1071" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1072" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1073" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1074" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  450</text></g></g><g id="ProcessOnG1075" transform="matrix(1.0,0.0,0.0,1.0,158.75,1060.0)" opacity="1.0"><path id="ProcessOnPath1076" d="M0.0 4.0Q0.0 0.0 4.0 0.0L368.5 0.0Q372.5 0.0 372.5 4.0L372.5 27.0Q372.5 31.0 368.5 31.0L4.0 31.0Q0.0 31.0 0.0 27.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1077" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.375)"><text id="ProcessOnText1078" fill="#000000" font-size="13" x="175.25" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">update account set balance = balance - 50 where id =1;</text></g></g><g id="ProcessOnG1079" transform="matrix(1.0,0.0,0.0,1.0,239.125,1117.0)" opacity="1.0"><path id="ProcessOnPath1080" d="M0.0 0.0L211.75 0.0L211.75 63.0L0.0 63.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1081" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.125)"><text id="ProcessOnText1082" fill="#000000" font-size="13" x="94.875" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">mysql&gt; select * from account;</text><text id="ProcessOnText1083" fill="#000000" font-size="13" x="94.875" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13"></text><text id="ProcessOnText1084" fill="#000000" font-size="13" x="94.875" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">1  lilei  400</text></g></g><g id="ProcessOnG1085" transform="matrix(1.0,0.0,0.0,1.0,295.0,1200.0)" opacity="1.0"><path id="ProcessOnPath1086" d="M0.0 4.0Q0.0 0.0 4.0 0.0L96.0 0.0Q100.0 0.0 100.0 4.0L100.0 66.0Q100.0 70.0 96.0 70.0L4.0 70.0Q0.0 70.0 0.0 66.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1087" transform="matrix(1.0,0.0,0.0,1.0,10.0,18.75)"><text id="ProcessOnText1088" fill="#000000" font-size="13" x="39.0" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">数据库实际是</text><text id="ProcessOnText1089" fill="#000000" font-size="13" x="39.0" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">400</text></g></g><g id="ProcessOnG1090"><path id="ProcessOnPath1091" d="M450.875 307.5L480.875 307.5L480.875 747.5L466.1110679774998 747.5" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1092)"/><g id="ProcessOnG1094" transform="matrix(1.0,0.0,0.0,1.0,480.875,499.25696601125014)"><path id="ProcessOnPath1095" d="M0 0H66.0V41.25H0Z" fill="#fff" transform="matrix(1.0,0.0,0.0,1.0,-33.0,0.0)"/><text id="ProcessOnText1096" fill="#000000" font-size="33" x="0.0" y="33.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="33">脏读</text></g></g><g id="ProcessOnG1097" transform="matrix(1.0,0.0,0.0,1.0,221.75,588.0)" opacity="1.0"><path id="ProcessOnPath1098" d="M0.0 4.0Q0.0 0.0 4.0 0.0L242.5 0.0Q246.5 0.0 246.5 4.0L246.5 81.0Q246.5 85.0 242.5 85.0L4.0 85.0Q0.0 85.0 0.0 81.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1099" transform="matrix(1.0,0.0,0.0,1.0,10.0,18.125)"><text id="ProcessOnText1100" fill="#000000" font-size="13" x="112.25" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">应用程序此时如果连续两次读取同一条</text><text id="ProcessOnText1101" fill="#000000" font-size="13" x="112.25" y="29.575" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">数据，发现读取的结果不一样，第二次</text><text id="ProcessOnText1102" fill="#000000" font-size="13" x="112.25" y="45.825" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">读取的是B更新后的数据，出现脏读</text></g></g><g id="ProcessOnG1103" transform="matrix(1.0,0.0,0.0,1.0,599.0,1002.0)" opacity="1.0"><path id="ProcessOnPath1104" d="M0.0 0.0L494.0 0.0L494.0 136.0L0.0 136.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1105" transform="matrix(1.0,0.0,0.0,1.0,10.0,28.0)"><text id="ProcessOnText1106" fill="#000000" font-size="16" x="236.0" y="16.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">用户账号余额原本是450元，用户在B端取出50元后又存入50元，</text><text id="ProcessOnText1107" fill="#000000" font-size="16" x="236.0" y="36.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">类似于回滚操作，但是在回滚之前A端却展示用户余额是400，由于</text><text id="ProcessOnText1108" fill="#000000" font-size="16" x="236.0" y="56.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">B端的回滚操作其实余额没有变化一直是450，出现了展示给用户的</text><text id="ProcessOnText1109" fill="#000000" font-size="16" x="236.0" y="76.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">余额与数据库存储的不一致的错误情况。</text></g></g><g id="ProcessOnG1110" transform="matrix(1.0,0.0,0.0,1.0,599.0,1165.0)" opacity="1.0"><path id="ProcessOnPath1111" d="M0.0 0.0L499.0 0.0L499.0 135.0L0.0 135.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1112" transform="matrix(1.0,0.0,0.0,1.0,10.0,37.5)"><text id="ProcessOnText1113" fill="#000000" font-size="16" x="238.5" y="16.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">如果数据库存储的是商品的库存，在B端有人下了订单又取消订单，</text><text id="ProcessOnText1114" fill="#000000" font-size="16" x="238.5" y="36.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">类似回滚操作，理论上库存数没变，但在B回滚之前A端却显示库存</text><text id="ProcessOnText1115" fill="#000000" font-size="16" x="238.5" y="56.4" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="16">减少了或者没有了，但实际是还有的。</text></g></g><g id="ProcessOnG1116" transform="matrix(1.0,0.0,0.0,1.0,599.0,918.0)" opacity="1.0"><path id="ProcessOnPath1117" d="M0.0 0.0L152.5 0.0L152.5 54.0L0.0 54.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1118" transform="matrix(1.0,0.0,0.0,1.0,10.0,18.875)"><text id="ProcessOnText1119" fill="#000000" font-size="13" x="65.25" y="13.325" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="13">脏读导致的问题</text></g></g></g></g></svg>